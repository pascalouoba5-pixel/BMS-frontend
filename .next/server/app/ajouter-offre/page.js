(()=>{var e={};e.id=50,e.ids=[50],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15027:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var s=t(60687),a=t(85814),i=t.n(a),n=t(43210),o=t(82646),l=t(71142),d=t(32093),u=t(99316);let c=["Afrique du Sud","Alg\xe9rie","Angola","B\xe9nin","Botswana","Burkina Faso","Burundi","Cabo Verde","Cameroun","Comores","Congo (Brazzaville)","Congo (Kinshasa / R\xe9publique d\xe9mocratique du Congo)","C\xf4te d'Ivoire","Djibouti","\xc9gypte","\xc9rythr\xe9e","Eswatini","\xc9thiopie","Gabon","Gambie","Ghana","Guin\xe9e","Guin\xe9e-Bissau","Guin\xe9e \xe9quatoriale","Kenya","Lesotho","Liberia","Libye","Madagascar","Malawi","Mali","Maroc","Maurice","Mauritanie","Mozambique","Namibie","Niger","Nigeria","Ouganda","Rwanda","Sao Tom\xe9-et-Principe","S\xe9n\xe9gal","Seychelles","Sierra Leone","Somalie","Soudan","Soudan du Sud","Tanzanie","Tchad","Togo","Tunisie","Zambie","Zimbabwe","Antigua-et-Barbuda","Argentine","Bahamas","Barbade","Belize","Bolivie","Br\xe9sil","Canada","Chili","Colombie","Costa Rica","Cuba","Dominique","El Salvador","\xc9tats-Unis","Grenade","Guatemala","Guyana","Ha\xefti","Honduras","Jama\xefque","Mexique","Nicaragua","Panama","Paraguay","P\xe9rou","R\xe9publique dominicaine","Saint-Kitts-et-Nevis","Saint-Vincent-et-les-Grenadines","Sainte-Lucie","Suriname","Trinit\xe9-et-Tobago","Uruguay","Venezuela","Afghanistan","Arabie saoudite","Arm\xe9nie","Azerba\xefdjan","Bahre\xefn","Bangladesh","Bhoutan","Birmanie (Myanmar)","Brunei","Cambodge","Chine","Chypre","Cor\xe9e du Nord","Cor\xe9e du Sud","\xc9mirats arabes unis","G\xe9orgie","Inde","Indon\xe9sie","Irak","Iran","Isra\xebl","Japon","Jordanie","Kazakhstan","Kirghizistan","Kowe\xeft","Laos","Liban","Malaisie","Maldives","Mongolie","N\xe9pal","Oman","Ouzb\xe9kistan","Pakistan","Palestine","Philippines","Qatar","Singapour","Sri Lanka","Syrie","Tadjikistan","Ta\xefwan","Tha\xeflande","Timor oriental","Turquie","Turkm\xe9nistan","Vi\xeat Nam","Y\xe9men","Albanie","Allemagne","Andorre","Autriche","Belgique","Bi\xe9lorussie","Bosnie-Herz\xe9govine","Bulgarie","Croatie","Danemark","Espagne","Estonie","Finlande","France","Gr\xe8ce","Hongrie","Irlande","Islande","Italie","Lettonie","Liechtenstein","Lituanie","Luxembourg","Malte","Moldavie","Monaco","Mont\xe9n\xe9gro","Norv\xe8ge","Pays-Bas","Pologne","Portugal","R\xe9publique tch\xe8que","Roumanie","Royaume-Uni","Russie","Saint-Marin","Serbie","Slovaquie","Slov\xe9nie","Su\xe8de","Suisse","Ukraine","Vatican","Australie","Fidji","\xceles Marshall","\xceles Salomon","Kiribati","Micron\xe9sie","Nauru","Nouvelle-Z\xe9lande","Palaos","Papouasie-Nouvelle-Guin\xe9e","Samoa","Tonga","Tuvalu","Vanuatu","Autre"].sort(),m=["EUR","USD","XOF","XAF","GBP","CFA","Autre"],p=["AO","AMI","Avis G\xe9n\xe9ral","Appel \xe0 projet","Accord cadre"],x=e=>{try{return new URL(e),!0}catch(e){return!1}};function g(){return(0,s.jsx)(l.default,{pageName:"ajouter-offre",children:(0,s.jsx)(d.default,{children:(0,s.jsx)(f,{})})})}function f(){let[e,r]=(0,n.useState)({intituleOffre:"",commentaire:"",pays:[],autrePays:"",bailleur:"",objectifs:"",profilExpert:"",montant:"",devise:"EUR",dureeMission:"",dateDepot:"",lienTDR:"",fichierTDR:null,heureDepot:"",nomSite:"",typeOffre:"",dateSoumissionValidation:new Date().toISOString().slice(0,10),offreTrouveePar:""}),[t,a]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),[g,f]=(0,n.useState)(""),h=e=>{let{name:t,value:s,type:a}=e.target;r(e=>({...e,[t]:s}))},b=async t=>{if(t.preventDefault(),!e.intituleOffre.trim())return void alert("Veuillez remplir l'intitul\xe9 de l'offre.");if(!e.bailleur.trim())return void alert("Veuillez remplir le bailleur.");if(!e.objectifs.trim())return void alert("Veuillez remplir les objectifs.");if(!e.dateDepot)return void alert("Veuillez s\xe9lectionner une date de d\xe9p\xf4t.");if(!e.typeOffre)return void alert("Veuillez s\xe9lectionner un type d'offre.");if(0===e.pays.length)return void alert("Veuillez s\xe9lectionner au moins un pays.");if(e.pays.includes("Autre")&&!e.autrePays.trim())return void alert('Veuillez pr\xe9ciser le nom du pays dans le champ "Autre".');let s=new Date;if(s.setHours(0,0,0,0),new Date(e.dateDepot)<s&&!confirm("La date de d\xe9p\xf4t est dans le pass\xe9. Voulez-vous continuer ?"))return;if(e.lienTDR.trim()&&!x(e.lienTDR))return void alert("Veuillez entrer une URL valide pour le lien TDR.");a(!0);try{let r={intitule_offre:e.intituleOffre,bailleur:e.bailleur,pays:e.pays.includes("Autre")?[...e.pays.filter(e=>"Autre"!==e),e.autrePays]:e.pays,date_depot:e.dateDepot,statut:"en_attente",commentaire:e.commentaire,montant:e.montant?parseFloat(e.montant):null,type_offre:e.typeOffre,lien_tdr:e.lienTDR||null,date_soumission_validation:e.dateSoumissionValidation||null},t=await u.sF.create(r);if(t.success)console.log("✅ Offre cr\xe9\xe9e avec succ\xe8s dans la base de donn\xe9es:",t.data),a(!1),d(!0);else throw Error(t.error||"Erreur lors de la cr\xe9ation de l'offre")}catch(e){console.error("Erreur lors de l'ajout de l'offre:",e),alert(`Une erreur est survenue lors de l'ajout de l'offre: ${e.message}. Veuillez r\xe9essayer.`),a(!1);return}let i=localStorage.getItem("user"),n=i?JSON.parse(i):null;r({intituleOffre:"",commentaire:"",pays:[],autrePays:"",bailleur:"",objectifs:"",profilExpert:"",montant:"",devise:"EUR",dureeMission:"",dateDepot:"",lienTDR:"",fichierTDR:null,heureDepot:"",nomSite:"",typeOffre:"",dateSoumissionValidation:new Date().toISOString().slice(0,10),offreTrouveePar:n?.prenom||n?.name||"Utilisateur"}),f(""),setTimeout(()=>{d(!1)},3e3)};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:[(0,s.jsx)("nav",{className:"bg-white/90 backdrop-blur-sm border-b border-blue-100 sticky top-0 z-50",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(i(),{href:"/",children:(0,s.jsx)("img",{src:"https://static.readdy.ai/image/36ce116ccdb0d05752a287dd792317ce/3a2cd734c9129790560cc32a9975e166.jfif",alt:"BMS Logo",className:"h-10 cursor-pointer"})})}),(0,s.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,s.jsx)(o.default,{variant:"outline",size:"sm"}),(0,s.jsx)(i(),{href:"/dashboard",className:"text-gray-700 hover:text-blue-600 transition-colors cursor-pointer",children:"Dashboard"}),(0,s.jsx)(i(),{href:"/offres",className:"text-gray-700 hover:text-blue-600 transition-colors cursor-pointer",children:"Offres"})]})]})})}),(0,s.jsx)("div",{className:"max-w-3xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-blue-100 p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("i",{className:"ri-add-circle-line text-2xl text-blue-600"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Ajouter une Nouvelle Offre"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Remplissez le formulaire pour cr\xe9er une nouvelle offre"})]}),l&&(0,s.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("i",{className:"ri-check-circle-line text-green-500 text-xl mr-3"}),(0,s.jsx)("p",{className:"text-green-700",children:"Offre ajout\xe9e avec succ\xe8s !"})]})}),(0,s.jsxs)("form",{onSubmit:b,className:"space-y-6",encType:"multipart/form-data",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intitul\xe9 de l'offre *"}),(0,s.jsx)("input",{type:"text",name:"intituleOffre",value:e.intituleOffre,onChange:h,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Ex: D\xe9veloppement application mobile"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Offre trouv\xe9e par *"}),(0,s.jsx)("input",{type:"text",name:"offreTrouveePar",value:e.offreTrouveePar,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 text-sm cursor-not-allowed",placeholder:"Chargement..."}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Rempli automatiquement avec votre nom"})]})]}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Commentaire"}),(0,s.jsx)("input",{type:"text",name:"commentaire",value:e.commentaire,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Commentaire..."})]})}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pays *"}),(0,s.jsxs)("div",{className:"relative mb-2",children:[(0,s.jsx)("input",{type:"text",placeholder:"Rechercher un pays...",value:g,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"}),g&&(0,s.jsx)("button",{onClick:()=>f(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,s.jsx)("div",{className:"max-h-48 overflow-y-auto border border-gray-300 rounded-lg bg-white",children:(0,s.jsx)("div",{className:"grid grid-cols-1",children:c.filter(e=>e.toLowerCase().includes(g.toLowerCase())).map(t=>(0,s.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-3 border-b border-gray-100 last:border-b-0",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.pays.includes(t),onChange:()=>{r(e=>({...e,pays:e.pays.includes(t)?e.pays.filter(e=>e!==t):[...e.pays,t]}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-700 flex-1",children:t})]},t))})}),e.pays.length>0&&(0,s.jsxs)("div",{className:"mt-3 p-3 bg-green-50 rounded-lg",children:[(0,s.jsxs)("p",{className:"text-sm text-green-700 font-medium",children:["Pays s\xe9lectionn\xe9s (",e.pays.length,") :"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.pays.map(t=>(0,s.jsxs)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs flex items-center gap-1",children:["Autre"===t?`${t}: ${e.autrePays||"Non sp\xe9cifi\xe9"}`:t,(0,s.jsx)("button",{onClick:()=>{r(e=>({...e,pays:e.pays.filter(e=>e!==t),autrePays:"Autre"===t?"":e.autrePays}))},className:"ml-1 text-green-600 hover:text-green-800",children:"✕"})]},t))})]}),e.pays.includes("Autre")&&(0,s.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Pr\xe9cisez le pays *"}),(0,s.jsx)("input",{type:"text",name:"autrePays",value:e.autrePays,onChange:h,required:e.pays.includes("Autre"),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Entrez le nom du pays...",maxLength:100}),(0,s.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Veuillez pr\xe9ciser le nom du pays qui n'est pas dans la liste (max 100 caract\xe8res)"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bailleur *"}),(0,s.jsx)("input",{type:"text",name:"bailleur",value:e.bailleur,onChange:h,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Nom du bailleur"})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Objectifs *"}),(0,s.jsx)("textarea",{name:"objectifs",value:e.objectifs,onChange:h,required:!0,rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Objectifs de la mission..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profil d'expert"}),(0,s.jsx)("input",{type:"text",name:"profilExpert",value:e.profilExpert,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Profil recherch\xe9..."})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Montant"}),(0,s.jsx)("input",{type:"number",name:"montant",value:e.montant,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Montant..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Devise"}),(0,s.jsx)("select",{name:"devise",value:e.devise,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:m.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dur\xe9e de la mission"}),(0,s.jsx)("input",{type:"text",name:"dureeMission",value:e.dureeMission,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Ex: 6 mois"})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de d\xe9p\xf4t *"}),(0,s.jsx)("input",{type:"date",name:"dateDepot",value:e.dateDepot,onChange:h,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure de d\xe9p\xf4t"}),(0,s.jsx)("input",{type:"time",name:"heureDepot",value:e.heureDepot,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Optionnel - Laissez vide si l'heure n'est pas sp\xe9cifi\xe9e"})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lien TDR"}),(0,s.jsx)("input",{type:"url",name:"lienTDR",value:e.lienTDR,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"https://..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fichier TDR (PDF, Word...)"}),(0,s.jsx)("input",{type:"file",name:"fichierTDR",accept:".pdf,.doc,.docx,.odt,.txt,.rtf,.xls,.xlsx,.csv,.ppt,.pptx,.zip,.rar,.7z,.jpg,.jpeg,.png",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];if(t.size>0xa00000){alert("Le fichier est trop volumineux. La taille maximale autoris\xe9e est de 10MB."),e.target.value="";return}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.oasis.opendocument.text","text/plain","application/rtf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/zip","application/x-rar-compressed","application/x-7z-compressed","image/jpeg","image/png"].includes(t.type)){alert("Type de fichier non autoris\xe9. Veuillez s\xe9lectionner un fichier PDF, Word, Excel, PowerPoint, image ou archive."),e.target.value="";return}r(e=>({...e,fichierTDR:t}))}},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"}),e.fichierTDR&&(0,s.jsx)("span",{className:"text-xs text-gray-500 mt-1 block",children:e.fichierTDR.name})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du site"}),(0,s.jsx)("input",{type:"text",name:"nomSite",value:e.nomSite,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Nom du site..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type d'offre *"}),(0,s.jsxs)("select",{name:"typeOffre",value:e.typeOffre,onChange:h,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[(0,s.jsx)("option",{value:"",children:"S\xe9lectionner"}),p.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de soumission pour validation"}),(0,s.jsx)("input",{type:"date",name:"dateSoumissionValidation",value:e.dateSoumissionValidation,onChange:h,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[(0,s.jsx)("button",{type:"submit",disabled:t,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-8 py-3 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Ajout en cours..."]}):(0,s.jsx)(s.Fragment,{children:"Ajouter l'offre"})}),(0,s.jsx)(i(),{href:"/offres",className:"border-2 border-gray-300 hover:bg-gray-50 text-gray-700 px-8 py-3 rounded-lg font-semibold transition-colors text-center cursor-pointer whitespace-nowrap",children:"Annuler"})]})]})]})})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24418:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d});var s=t(65239),a=t(48088),i=t(88170),n=t.n(i),o=t(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d={children:["",{children:["ajouter-offre",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,60649)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\ajouter-offre\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,82366)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,u=["C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\ajouter-offre\\page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/ajouter-offre/page",pathname:"/ajouter-offre",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29240:(e,r,t)=>{Promise.resolve().then(t.bind(t,60649))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},38968:(e,r,t)=>{Promise.resolve().then(t.bind(t,15027))},60649:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\User\\\\Desktop\\\\Projet du pole Informatique\\\\Dossier d\xe9veloppement\\\\BMS 3\\\\BMS_06_08_25\\\\BMS_06_08_25\\\\BMS\\\\frontend\\\\app\\\\ajouter-offre\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\ajouter-offre\\page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},82646:(e,r,t)=>{"use strict";t.d(r,{default:()=>n});var s=t(60687),a=t(85814),i=t.n(a);function n({className:e="",variant:r="default",size:t="md"}){let a=`inline-flex items-center gap-2 font-medium transition-all duration-200 hover:scale-105 ${{default:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 shadow-sm hover:shadow-md",outline:"border-2 border-blue-600 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-600 hover:text-white",icon:"bg-blue-100 text-blue-600 p-2 rounded-lg hover:bg-blue-200"}[r]} ${{sm:"text-sm px-3 py-1.5",md:"text-base px-4 py-2",lg:"text-lg px-6 py-3"}[t]} ${e}`;return(0,s.jsxs)(i(),{href:"/",className:a,children:[(0,s.jsx)("i",{className:"ri-home-line"}),"icon"!==r&&(0,s.jsx)("span",{children:"Accueil"})]})}},99316:(e,r,t)=>{"use strict";t.d(r,{H2:()=>u,R2:()=>c,sF:()=>m,dR:()=>p,c9:()=>x});var s=function(e){return e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e.CRITICAL="CRITICAL",e}({});class a{formatMessage(e){let r=new Date(e.timestamp).toLocaleTimeString(),t=e.context?`[${e.context}]`:"",s=`[${e.level}]`,a=`${r} ${s} ${t} ${e.message}`;return e.data&&(a+=` | Data: ${JSON.stringify(e.data)}`),e.error&&(a+=` | Error: ${e.error.message}`,e.error.stack&&(a+=` | Stack: ${e.error.stack}`)),a}addLog(e){if(this.logs.push(e),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(-this.maxLogs)),this.isDevelopment){let r=this.formatMessage(e);switch(e.level){case"DEBUG":console.debug(r);break;case"INFO":console.info(r);break;case"WARN":console.warn(r);break;case"ERROR":case"CRITICAL":console.error(r)}}!this.isDevelopment&&e.level>="ERROR"&&this.sendToMonitoring(e)}async sendToMonitoring(e){}debug(e,r,t){this.addLog({level:"DEBUG",message:e,context:r,data:t,timestamp:new Date().toISOString()})}info(e,r,t){this.addLog({level:"INFO",message:e,context:r,data:t,timestamp:new Date().toISOString()})}warn(e,r,t){this.addLog({level:"WARN",message:e,context:r,data:t,timestamp:new Date().toISOString()})}error(e,r,t,s){this.addLog({level:"ERROR",message:e,error:r,context:t,data:s,timestamp:new Date().toISOString()})}critical(e,r,t,s){this.addLog({level:"CRITICAL",message:e,error:r,context:t,data:s,timestamp:new Date().toISOString()})}apiError(e,r,t,s){this.error(`Erreur API sur ${e}`,r,"API",{endpoint:e,status:t?.status,statusText:t?.statusText,url:t?.url,data:s})}dashboardError(e,r,t,s){this.error(`Erreur Dashboard: ${e}`,r,"Dashboard",{operation:e,filters:t,data:s})}authError(e,r,t){this.error(`Erreur Auth: ${e}`,r,"Auth",t)}getRecentLogs(e,r=50){let t=this.logs;return e&&(t=t.filter(r=>r.level===e)),t.slice(-r)}exportLogs(){return JSON.stringify(this.logs,null,2)}clearLogs(){this.logs=[]}getLogStats(){let e={total:this.logs.length,byLevel:{},recentErrors:this.logs.filter(e=>e.level>="ERROR").slice(-10)};return Object.values(s).forEach(r=>{e.byLevel[r]=this.logs.filter(e=>e.level===r).length}),e}constructor(){this.logs=[],this.maxLogs=1e3,this.isDevelopment=!1}}let i=new a,n=(e,r,t)=>i.info(e,r,t),o=(e,r,t)=>i.warn(e,r,t),l=(e,r,t,s)=>i.error(e,r,t,s),d={BASE_URL:"http://localhost:5000",NODE_ENV:"production",APP_NAME:process.env.NEXT_PUBLIC_APP_NAME||"BMS",APP_VERSION:process.env.NEXT_PUBLIC_APP_VERSION||"1.0.0",REQUEST_TIMEOUT:1e4,MAX_RETRIES:3,RETRY_DELAY:1e3}.BASE_URL;n("Configuration: NEXT_PUBLIC_API_URL=http://localhost:5000","API"),n(`URL de base utilis\xe9e: ${d}`,"API");let u=async(e,r={})=>{let t=`${d}${e}`;n(`Appel vers: ${t}`,"API"),n(`Token pr\xe9sent: NON`,"API");let s={headers:{"Content-Type":"application/json",...r.headers},...r};try{let r;n(`Envoi de la requ\xeate vers: ${t}`,"API");let a=await fetch(t,s);if(n(`R\xe9ponse re\xe7ue: ${a.status} ${a.statusText}`,"API"),n(`Headers de r\xe9ponse: ${JSON.stringify(Object.fromEntries(a.headers.entries()))}`,"API"),!a.ok){let r={};try{r=await a.json()}catch(e){o(`Impossible de parser le body d'erreur: ${e instanceof Error?e.message:String(e)}`,"API"),r={error:`Erreur HTTP ${a.status}: ${a.statusText}`}}if(i.apiError(e,Error(`HTTP ${a.status}: ${a.statusText}`),a,{status:a.status,statusText:a.statusText,url:t,errorData:r,headers:Object.fromEntries(a.headers.entries())}),401===a.status)throw i.authError("Token invalide",Error(r.error||"Token expir\xe9 ou invalide"),r),Error("Token invalide - Redirection vers la connexion");let s=r.error||r.message||`Erreur HTTP ${a.status}: ${a.statusText}`;throw Error(s)}try{r=await a.json(),n(`Succ\xe8s: ${e}`,"API",r)}catch(e){throw l(`Erreur lors du parsing de la r\xe9ponse: ${e instanceof Error?e.message:String(e)}`,e instanceof Error?e:Error(String(e)),"API"),Error(`Erreur lors du parsing de la r\xe9ponse: ${e instanceof Error?e.message:String(e)}`)}return r}catch(s){if(i.apiError(e,s instanceof Error?s:Error(String(s)),void 0,{url:t,timestamp:new Date().toISOString()}),(s instanceof Error?s.message:String(s))==="Token invalide - Redirection vers la connexion")throw s;let r=`Erreur lors de la r\xe9cup\xe9ration des donn\xe9es: ${s instanceof Error?s.message:String(s)}`;throw e.includes("/performance/")&&(r="Impossible de charger les donn\xe9es de performance. V\xe9rifiez votre connexion et r\xe9essayez."),l(`Message d'erreur am\xe9lior\xe9: ${r}`,s instanceof Error?s:Error(String(s)),"API"),Error(r)}},c={login:async e=>u("/api/auth/login",{method:"POST",body:JSON.stringify(e)}),logout:async()=>({success:!0,message:"D\xe9connexion r\xe9ussie"}),register:async e=>u("/api/auth/register",{method:"POST",body:JSON.stringify(e)}),verifyToken:async()=>u("/api/auth/verify")},m={getAll:async()=>u("/api/offres"),create:async e=>u("/api/offres",{method:"POST",body:JSON.stringify(e)}),update:async(e,r)=>u(`/api/offres/${e}`,{method:"PUT",body:JSON.stringify(r)}),delete:async e=>u(`/api/offres/${e}`,{method:"DELETE"}),validate:async(e,r)=>u(`/api/offres/${e}/validate`,{method:"PATCH",body:JSON.stringify(r)})},p={getOverview:async(e,r)=>{let t=e&&r?`?startDate=${e}&endDate=${r}`:"";return u(`/api/performance/overview${t}`)},getPoles:async(e,r)=>{let t=e&&r?`?startDate=${e}&endDate=${r}`:"";return u(`/api/performance/poles${t}`)},getPolesDetailed:async(e,r)=>{let t=e&&r?`?startDate=${e}&endDate=${r}`:"";return u(`/api/performance/poles-detailed${t}`)},getTrends:async()=>u("/api/performance/trends"),getCommerciaux:async(e,r)=>{let t=e&&r?`?startDate=${e}&endDate=${r}`:"";return u(`/api/performance/commerciaux${t}`)},getMetrics:async()=>u("/api/performance/metrics")},x={getAll:async e=>u(`/api/scheduled-searches?userId=${e}`),getOptions:async()=>u("/api/scheduled-searches/options"),create:async e=>u("/api/scheduled-searches",{method:"POST",body:JSON.stringify(e)}),update:async e=>u("/api/scheduled-searches",{method:"PUT",body:JSON.stringify(e)}),delete:async e=>u("/api/scheduled-searches",{method:"DELETE",body:JSON.stringify(e)}),getSavedKeywords:async e=>u(`/api/scheduled-searches/saved-keywords?userId=${e}`),saveKeywords:async e=>u("/api/scheduled-searches/saved-keywords",{method:"POST",body:JSON.stringify(e)}),deleteSavedKeywords:async(e,r)=>u(`/api/scheduled-searches/saved-keywords/${e}`,{method:"DELETE",body:JSON.stringify({userId:r})}),getSearchStats:async e=>{let r=e?`?userId=${e}`:"";return u(`/api/scheduled-searches/search-stats${r}`)}}}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[285,418,547,429,538],()=>t(24418));module.exports=s})();