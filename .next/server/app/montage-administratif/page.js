(()=>{var e={};e.id=170,e.ids=[170],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3985:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var r=t(28625),a=t(64996),i=t.n(a),l=t(55006),n=t(87783);let o=({className:e=""})=>{let{settings:s,saveSettings:t}=(0,n.Z)(),[l,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(s);i().useEffect(()=>{c(s)},[s]);let x=()=>{c(s),o(!1)};return(0,r.jsxs)("div",{className:e,children:[(0,r.jsxs)("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,r.jsx)("i",{className:"ri-settings-3-line"}),(0,r.jsx)("span",{children:"Param\xe8tres d'alertes"})]}),l&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Param\xe8tres des Alertes"}),(0,r.jsx)("button",{onClick:x,className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)("i",{className:"ri-close-line text-xl"})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alerte montage administratif"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"number",min:"1",max:"168",value:d.montageAlertHours,onChange:e=>c(s=>({...s,montageAlertHours:parseInt(e.target.value)||72})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"heures avant"})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Actuellement : ",s.montageAlertHours,"h avant l'\xe9ch\xe9ance"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alerte d\xe9p\xf4t"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"number",min:"1",max:"168",value:d.depotAlertHours,onChange:e=>c(s=>({...s,depotAlertHours:parseInt(e.target.value)||24})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"heures avant"})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Actuellement : ",s.depotAlertHours,"h avant l'\xe9ch\xe9ance"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fuseau horaire"}),(0,r.jsxs)("select",{value:d.timezone,onChange:e=>c(s=>({...s,timezone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,r.jsx)("option",{value:"UTC",children:"UTC (UTC+0)"}),(0,r.jsx)("option",{value:"Europe/Paris",children:"Europe/Paris (UTC+1/+2)"}),(0,r.jsx)("option",{value:"America/New_York",children:"America/New_York (UTC-5/-4)"}),(0,r.jsx)("option",{value:"Asia/Tokyo",children:"Asia/Tokyo (UTC+9)"})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Actuellement : ",s.timezone]})]}),(0,r.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,r.jsx)("i",{className:"ri-information-line text-blue-500 mt-0.5"}),(0,r.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,r.jsx)("p",{className:"font-medium mb-1",children:"Informations :"}),(0,r.jsxs)("ul",{className:"space-y-1 text-xs",children:[(0,r.jsx)("li",{children:"• Les alertes se mettent \xe0 jour automatiquement chaque minute"}),(0,r.jsx)("li",{children:"• Les alertes urgentes (≤1h) clignotent en rouge"}),(0,r.jsx)("li",{children:"• Les \xe9ch\xe9ances d\xe9pass\xe9es s'affichent en rouge clignotant"}),(0,r.jsx)("li",{children:"• Les param\xe8tres sont sauvegard\xe9s localement"})]})]})]})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,r.jsx)("button",{onClick:()=>{c({montageAlertHours:72,depotAlertHours:24,timezone:"UTC"})},className:"text-gray-600 hover:text-gray-800 text-sm",children:"R\xe9initialiser"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:x,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Annuler"}),(0,r.jsx)("button",{onClick:()=>{t(d),setTimeout(()=>{window.dispatchEvent(new CustomEvent("alertSettingsChanged"))},100),o(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Sauvegarder"})]})]})]})})]})};var d=t(90078),c=t(96485),x=t(47403);function m(){return(0,r.jsx)(d.default,{pageName:"montage-administratif",children:(0,r.jsx)(c.default,{children:(0,r.jsx)(u,{})})})}function u(){let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)([]),[n,d]=(0,a.useState)(!0),[c,m]=(0,a.useState)(""),[u,g]=(0,a.useState)(""),[p,h]=(0,a.useState)(""),[b,f]=(0,a.useState)(""),[j,N]=(0,a.useState)("dateDepot"),[y,v]=(0,a.useState)("desc"),[w,k]=(0,a.useState)("table"),[A,C]=(0,a.useState)(!1),[S,M]=(0,a.useState)(!1),[_,P]=(0,a.useState)(null),[D,T]=(0,a.useState)({montageAdministratif:"",chargeMontageAdministratif:"",delaiTransmissionMontageAdministratif:"",dateTransmissionAssuranceQualite:"",chargeAssuranceQualite:"",diligencesMenees:""}),B=()=>{d(!0);try{let e=localStorage.getItem("offres");if(e){let t=JSON.parse(e).filter(e=>"approuv\xe9e"===e.statut);s(t)}}catch(e){console.error("Erreur lors du chargement des offres:",e)}finally{d(!1)}},q=e=>{j===e?v("asc"===y?"desc":"asc"):(N(e),v("desc"))},E=e=>{P(e),C(!0)},I=e=>{P(e),T({montageAdministratif:e.montageAdministratif||"",chargeMontageAdministratif:e.chargeMontageAdministratif||"",delaiTransmissionMontageAdministratif:$(e.delaiTransmissionMontageAdministratif),dateTransmissionAssuranceQualite:$(e.dateTransmissionAssuranceQualite),chargeAssuranceQualite:e.chargeAssuranceQualite||"",diligencesMenees:e.diligencesMenees||""}),M(!0)},U=(e,s)=>{T(t=>({...t,[e]:s}))},L=e=>{if(!e.tdrFile&&!e.lienTDR)return void alert("Aucun fichier TDR disponible pour cette offre.");let s=e.tdrFile||e.lienTDR;if(s){let t=document.createElement("a");t.href=s,t.download=`TDR_${e.intituleOffre||e.titre||e.id}.pdf`,t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},O=e=>{if(!e)return"Non sp\xe9cifi\xe9e";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Date invalide"}},$=e=>{if(!e)return"";try{return new Date(e).toISOString().split("T")[0]}catch{return""}},Q=e=>{switch(e){case"Priorit\xe9 haute":return"bg-red-100 text-red-800 border-red-200";case"Strat\xe9gique":return"bg-purple-100 text-purple-800 border-purple-200";case"Opportunit\xe9 interm\xe9diaire":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},R=e=>e&&0!==e.length?1===e.length?e[0]:e.length<=2?e.join(", "):`${e[0]}, ${e[1]} +${e.length-2}`:"Non sp\xe9cifi\xe9",z=e=>({"P\xf4le sant\xe9":"bg-green-100 text-green-800 border-green-200","P\xf4le Wash":"bg-blue-100 text-blue-800 border-blue-200","P\xf4le Education":"bg-purple-100 text-purple-800 border-purple-200","P\xf4le Climat":"bg-emerald-100 text-emerald-800 border-emerald-200","P\xf4le Enqu\xeates":"bg-orange-100 text-orange-800 border-orange-200","P\xf4le Mod\xe9lisation":"bg-indigo-100 text-indigo-800 border-indigo-200","P\xf4le Finances Publiques":"bg-pink-100 text-pink-800 border-pink-200","P\xf4le D\xe9centralisation":"bg-teal-100 text-teal-800 border-teal-200","P\xf4le Coh\xe9sion sociale":"bg-cyan-100 text-cyan-800 border-cyan-200","P\xf4le Anglophone":"bg-amber-100 text-amber-800 border-amber-200","P\xf4le SIDIA":"bg-violet-100 text-violet-800 border-violet-200"})[e]||"bg-gray-100 text-gray-800 border-gray-200";return n?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Chargement des offres approuv\xe9es..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:[(0,r.jsx)(x.A,{}),(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 py-12",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(l.default,{}),(0,r.jsxs)("div",{className:"ml-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-500/30 backdrop-blur-sm rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)("i",{className:"ri-settings-3-line text-2xl text-white"})}),(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Montage Administratif"}),(0,r.jsx)("p",{className:"text-xl opacity-90",children:"Gestion administrative des offres approuv\xe9es"})]})]}),(0,r.jsxs)("div",{className:"text-right text-white",children:[(0,r.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2 mb-4",children:(0,r.jsxs)("span",{className:"text-lg",children:[t.length," offres approuv\xe9es"]})}),(0,r.jsx)(o,{})]})]})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6 mb-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recherche"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Rechercher par titre, bailleur, p\xf4le...",value:c,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pays"}),(0,r.jsxs)("select",{value:u,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Tous les pays"}),(s=>{let t=new Set;return e.forEach(e=>{let r=e[s];r&&(Array.isArray(r)?r.forEach(e=>t.add(e)):t.add(String(r)))}),Array.from(t).sort()})("pays").map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priorit\xe9"}),(0,r.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Toutes les priorit\xe9s"}),(0,r.jsx)("option",{value:"Priorit\xe9 haute",children:"Priorit\xe9 haute"}),(0,r.jsx)("option",{value:"Strat\xe9gique",children:"Strat\xe9gique"}),(0,r.jsx)("option",{value:"Opportunit\xe9 interm\xe9diaire",children:"Opportunit\xe9 interm\xe9diaire"})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[t.length," offres approuv\xe9es trouv\xe9es"]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:()=>k("table"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"table"===w?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[(0,r.jsx)("i",{className:"ri-table-line mr-2"}),"Tableau"]}),(0,r.jsxs)("button",{onClick:()=>k("cards"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"cards"===w?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[(0,r.jsx)("i",{className:"ri-grid-line mr-2"}),"Cartes"]}),(0,r.jsxs)("button",{onClick:()=>{alert("Fonctionnalit\xe9 d'export Excel \xe0 impl\xe9menter")},className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-download-line"}),"Exporter Excel"]})]})]})]}),"table"===w&&(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gradient-to-r from-blue-50 to-blue-100",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>q("intituleOffre"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-file-text-line"}),"Intitul\xe9","intituleOffre"===j&&(0,r.jsx)("i",{className:`ri-arrow-${"asc"===y?"up":"down"}-line`})]})}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>q("bailleur"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-building-line"}),"Bailleur","bailleur"===j&&(0,r.jsx)("i",{className:`ri-arrow-${"asc"===y?"up":"down"}-line`})]})}),(0,r.jsxs)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider",children:[(0,r.jsx)("i",{className:"ri-map-pin-line mr-2"}),"Pays"]}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>q("priorite"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-flag-line"}),"Priorit\xe9","priorite"===j&&(0,r.jsx)("i",{className:`ri-arrow-${"asc"===y?"up":"down"}-line`})]})}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>q("poleLead"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-team-line"}),"P\xf4le LEAD","poleLead"===j&&(0,r.jsx)("i",{className:`ri-arrow-${"asc"===y?"up":"down"}-line`})]})}),(0,r.jsxs)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider",children:[(0,r.jsx)("i",{className:"ri-settings-3-line mr-2"}),"Montage Admin"]}),(0,r.jsxs)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider",children:[(0,r.jsx)("i",{className:"ri-settings-3-line mr-2"}),"Actions"]})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:0===t.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("i",{className:"ri-inbox-line text-4xl mb-4 text-gray-300"}),(0,r.jsx)("p",{className:"text-lg font-medium",children:"Aucune offre approuv\xe9e trouv\xe9e"}),(0,r.jsx)("p",{className:"text-sm",children:"Essayez de modifier vos filtres de recherche"})]})})}):t.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors duration-200",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",children:e.intituleOffre||e.titre||"Sans titre"})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.bailleur||e.client||"Non sp\xe9cifi\xe9"})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:R(e.pays)})}),(0,r.jsx)("td",{className:"px-6 py-4",children:e.priorite?(0,r.jsx)("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full border ${Q(e.priorite)}`,children:e.priorite}):(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"Aucune"})}),(0,r.jsx)("td",{className:"px-6 py-4",children:e.poleLead?(0,r.jsx)("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full border ${z(e.poleLead)}`,children:e.poleLead}):(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"Non sp\xe9cifi\xe9"})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.montageAdministratif?(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-green-600 font-medium",children:"✓ Configur\xe9"}),e.delaiTransmissionMontageAdministratif&&(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["D\xe9lai: ",O(e.delaiTransmissionMontageAdministratif)]})]}):(0,r.jsx)("span",{className:"text-gray-500",children:"Non configur\xe9"})})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>L(e),className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-colors",title:"T\xe9l\xe9charger TDR",children:(0,r.jsx)("i",{className:"ri-download-line"})}),(0,r.jsx)("button",{onClick:()=>E(e),className:"bg-green-600 text-white p-2 rounded-lg hover:bg-green-700 transition-colors",title:"Voir les d\xe9tails",children:(0,r.jsx)("i",{className:"ri-eye-line"})}),(0,r.jsx)("button",{onClick:()=>I(e),className:"bg-orange-600 text-white p-2 rounded-lg hover:bg-orange-700 transition-colors",title:"Modifier le montage administratif",children:(0,r.jsx)("i",{className:"ri-edit-line"})})]})})]},e.id))})]})})}),"cards"===w&&(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===t.length?(0,r.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,r.jsx)("i",{className:"ri-inbox-line text-4xl text-gray-300 mb-4"}),(0,r.jsx)("p",{className:"text-lg font-medium text-gray-500",children:"Aucune offre approuv\xe9e trouv\xe9e"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"Essayez de modifier vos filtres de recherche"})]}):t.map(e=>(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 hover:shadow-xl transition-all duration-300 overflow-hidden",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2 mb-2",children:e.intituleOffre||e.titre||"Sans titre"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.bailleur||e.client||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>L(e),className:"bg-blue-100 text-blue-600 p-2 rounded-lg hover:bg-blue-200 transition-colors",title:"T\xe9l\xe9charger TDR",children:(0,r.jsx)("i",{className:"ri-download-line"})}),(0,r.jsx)("button",{onClick:()=>E(e),className:"bg-green-100 text-green-600 p-2 rounded-lg hover:bg-green-200 transition-colors",title:"Voir les d\xe9tails",children:(0,r.jsx)("i",{className:"ri-eye-line"})}),(0,r.jsx)("button",{onClick:()=>I(e),className:"bg-orange-100 text-orange-600 p-2 rounded-lg hover:bg-orange-200 transition-colors",title:"Modifier le montage administratif",children:(0,r.jsx)("i",{className:"ri-edit-line"})})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.priorite&&(0,r.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${Q(e.priorite)}`,children:e.priorite}),e.poleLead&&(0,r.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${z(e.poleLead)}`,children:e.poleLead})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-map-pin-line text-gray-400"}),(0,r.jsx)("span",{children:R(e.pays)})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-settings-3-line text-gray-400"}),(0,r.jsx)("span",{children:e.montageAdministratif?"✓ Configur\xe9":"Non configur\xe9"})]}),e.delaiTransmissionMontageAdministratif&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-calendar-line text-gray-400"}),(0,r.jsxs)("span",{className:"text-xs",children:["D\xe9lai: ",O(e.delaiTransmissionMontageAdministratif)]})]}),e.dateDepot&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-calendar-line text-gray-400"}),(0,r.jsx)("span",{children:O(e.dateDepot)})]})]})]})},e.id))})]}),A&&_&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["D\xe9tails de l'offre : ",_.intituleOffre||_.titre||"Sans titre"]}),(0,r.jsx)("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("i",{className:"ri-close-line text-2xl"})})]}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations g\xe9n\xe9rales"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Intitul\xe9"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:_.intituleOffre||_.titre||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bailleur/Client"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:_.bailleur||_.client||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pays"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:R(_.pays)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type d'offre"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:_.typeOffre||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Priorit\xe9"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:_.priorite||"Non sp\xe9cifi\xe9e"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:_.statut?_.statut.replace("_"," "):"Non sp\xe9cifi\xe9"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations de r\xe9partition"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"P\xf4le LEAD"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:_.poleLead||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"P\xf4le ASSOCI\xc9S"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:_.poleAssocies||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date d'imputation"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:O(_.dateImputation)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Charge Assurance Qualit\xe9"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:_.chargeAssuranceQualite||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Charge Montage Administratif"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:_.chargeMontageAdministratif||"Non sp\xe9cifi\xe9"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Montage administratif"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Montage administratif"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:_.montageAdministratif||"Non configur\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"D\xe9lai transmission montage administratif"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:O(_.delaiTransmissionMontageAdministratif)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date transmission assurance qualit\xe9"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:O(_.dateTransmissionAssuranceQualite)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Diligences men\xe9es"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:_.diligencesMenees||"Non sp\xe9cifi\xe9"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Dates importantes"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date de d\xe9p\xf4t"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:O(_.dateDepot)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date de soumission/validation"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:O(_.dateSoumissionValidation)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date de validation"}),(0,r.jsx)("p",{className:"text-sm text-gray-900",children:O(_.dateValidation)})]})]})]})]})})]})}),S&&_&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Modifier le montage administratif"}),(0,r.jsx)("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("i",{className:"ri-close-line text-2xl"})})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Montage administratif"}),(0,r.jsx)("textarea",{value:D.montageAdministratif,onChange:e=>U("montageAdministratif",e.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"D\xe9tails du montage administratif..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Charg\xe9 montage administratif"}),(0,r.jsx)("input",{type:"text",value:D.chargeMontageAdministratif,onChange:e=>U("chargeMontageAdministratif",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nom du charg\xe9 montage administratif"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"D\xe9lai transmission montage administratif"}),(0,r.jsx)("input",{type:"date",value:D.delaiTransmissionMontageAdministratif,onChange:e=>U("delaiTransmissionMontageAdministratif",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Charg\xe9 assurance qualit\xe9"}),(0,r.jsx)("input",{type:"text",value:D.chargeAssuranceQualite,onChange:e=>U("chargeAssuranceQualite",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nom du charg\xe9 assurance qualit\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date transmission assurance qualit\xe9"}),(0,r.jsx)("input",{type:"date",value:D.dateTransmissionAssuranceQualite,onChange:e=>U("dateTransmissionAssuranceQualite",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Diligences men\xe9es"}),(0,r.jsx)("textarea",{value:D.diligencesMenees,onChange:e=>U("diligencesMenees",e.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"D\xe9tails des diligences men\xe9es..."})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,r.jsx)("button",{onClick:()=>M(!1),className:"px-6 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Annuler"}),(0,r.jsx)("button",{onClick:()=>{if(!_)return;let e={..._,...D},t=localStorage.getItem("offres");if(t){let r=JSON.parse(t).map(s=>s.id===_.id?e:s);localStorage.setItem("offres",JSON.stringify(r)),s(s=>s.map(s=>s.id===_.id?e:s)),B(),window.dispatchEvent(new CustomEvent("offresUpdated",{detail:{updatedOffre:e}})),alert("Montage administratif mis \xe0 jour avec succ\xe8s ! Les donn\xe9es ont \xe9t\xe9 actualis\xe9es sur les tableaux de r\xe9partition."),M(!1),P(null)}},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Sauvegarder"})]})]})]})})]})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16029:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(20413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\User\\\\Desktop\\\\Projet du pole Informatique\\\\Dossier d\xe9veloppement\\\\BMS 3\\\\BMS_06_08_25\\\\BMS_06_08_25\\\\BMS\\\\frontend\\\\app\\\\montage-administratif\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\montage-administratif\\page.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30678:(e,s,t)=>{Promise.resolve().then(t.bind(t,3985))},33873:e=>{"use strict";e.exports=require("path")},44472:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=t(5853),a=t(60554),i=t(30708),l=t.n(i),n=t(8067),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d={children:["",{children:["montage-administratif",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,16029)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\montage-administratif\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,97898)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,73706)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,82137,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,48358,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\montage-administratif\\page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/montage-administratif/page",pathname:"/montage-administratif",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},55006:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var r=t(28625),a=t(93948),i=t.n(a);function l({className:e="",variant:s="default",size:t="md"}){let a=`inline-flex items-center gap-2 font-medium transition-all duration-200 hover:scale-105 ${{default:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 shadow-sm hover:shadow-md",outline:"border-2 border-blue-600 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-600 hover:text-white",icon:"bg-blue-100 text-blue-600 p-2 rounded-lg hover:bg-blue-200"}[s]} ${{sm:"text-sm px-3 py-1.5",md:"text-base px-4 py-2",lg:"text-lg px-6 py-3"}[t]} ${e}`;return(0,r.jsxs)(i(),{href:"/",className:a,children:[(0,r.jsx)("i",{className:"ri-home-line"}),"icon"!==s&&(0,r.jsx)("span",{children:"Accueil"})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67630:(e,s,t)=>{Promise.resolve().then(t.bind(t,16029))}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[105,94,227,926,794],()=>t(44472));module.exports=r})();