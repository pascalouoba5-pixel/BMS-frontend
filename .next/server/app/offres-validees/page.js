(()=>{var e={};e.id=332,e.ids=[332],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22606:(e,s,t)=>{Promise.resolve().then(t.bind(t,30263))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30263:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\User\\\\Desktop\\\\Projet du pole Informatique\\\\Dossier d\xe9veloppement\\\\BMS 3\\\\BMS_06_08_25\\\\BMS_06_08_25\\\\BMS\\\\frontend\\\\app\\\\offres-validees\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\offres-validees\\page.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},48937:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o});var r=t(65239),i=t(48088),a=t(88170),l=t.n(a),n=t(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let o={children:["",{children:["offres-validees",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,30263)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\offres-validees\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,82366)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\offres-validees\\page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/offres-validees/page",pathname:"/offres-validees",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70137:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(60687),i=t(43210),a=t(82646),l=t(71142),n=t(32093),d=t(40162);function o(){return(0,r.jsx)(l.default,{pageName:"offres-validees",children:(0,r.jsx)(n.default,{children:(0,r.jsx)(c,{})})})}function c(){let[e,s]=(0,i.useState)([]),[t,l]=(0,i.useState)(!0),[n,o]=(0,i.useState)(""),[c,x]=(0,i.useState)(null),[m,p]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1),[u,g]=(0,i.useState)({montageAdministratif:""}),[b,j]=(0,i.useState)({total:0,approuvees:0}),[v,N]=(0,i.useState)("table"),y=(e,s)=>{g(t=>({...t,[e]:s}))};return t?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Chargement des offres valid\xe9es..."})]})}):n?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Erreur"}),(0,r.jsx)("p",{children:n})]})})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 py-12",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(a.default,{}),(0,r.jsxs)("div",{className:"ml-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-500/30 backdrop-blur-sm rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)("i",{className:"ri-check-double-line text-2xl text-white"})}),(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Offres Valid\xe9es"}),(0,r.jsx)("p",{className:"text-xl opacity-90",children:"Gestion des offres approuv\xe9es"})]})]}),(0,r.jsx)("div",{className:"text-right text-white",children:(0,r.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:(0,r.jsxs)("span",{className:"text-lg",children:[e.length," offres valid\xe9es"]})})})]})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"bg-green-500 text-white p-3 rounded-lg",children:(0,r.jsx)("i",{className:"ri-check-line text-xl"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total des offres valid\xe9es"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:b.total})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"bg-blue-500 text-white p-3 rounded-lg",children:(0,r.jsx)("i",{className:"ri-file-list-line text-xl"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Offres approuv\xe9es"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:b.approuvees})]})]})})]}),(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6 mb-8",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[e.length," offres valid\xe9es trouv\xe9es"]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:()=>N("table"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"table"===v?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[(0,r.jsx)("i",{className:"ri-table-line mr-2"}),"Tableau"]}),(0,r.jsxs)("button",{onClick:()=>N("cards"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${"cards"===v?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[(0,r.jsx)("i",{className:"ri-grid-line mr-2"}),"Cartes"]}),(0,r.jsxs)("button",{onClick:()=>{alert("Fonctionnalit\xe9 d'export Excel \xe0 impl\xe9menter")},className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-download-line"}),"Exporter Excel"]})]})]})}),(0,r.jsx)(d.A,{offres:e,onViewOffre:e=>{x(e),p(!0)},onEditOffre:e=>{x(e),g({montageAdministratif:e.montageAdministratif||""}),f(!0)},onDownloadTDR:e=>{if(!e.tdrFile&&!e.lienTDR)return void alert("Aucun fichier TDR disponible pour cette offre.");let s=e.tdrFile||e.lienTDR;if(s){let t=document.createElement("a");t.href=s,t.download=`TDR_${e.intituleOffre||e.titre||e.id}.pdf`,t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},viewMode:v,loading:t,showActions:!0,showCheckboxes:!1,showStatus:!1,showPriority:!0,showPoleLead:!0,showMontageAdministratif:!0})]}),m&&c&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"D\xe9tails de l'offre"}),(0,r.jsx)("button",{onClick:()=>{p(!1),x(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("i",{className:"ri-close-line text-2xl"})})]})}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informations principales"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Intitul\xe9 de l'offre"}),(0,r.jsx)("p",{className:"text-gray-900 font-medium",children:c.intituleOffre||c.titre||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Bailleur"}),(0,r.jsx)("p",{className:"text-gray-900",children:c.bailleur||c.client||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Type d'offre"}),(0,r.jsx)("p",{className:"text-gray-900",children:c.typeOffre||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Pays"}),(0,r.jsx)("p",{className:"text-gray-900",children:Array.isArray(c.pays)&&c.pays.length>0?c.pays.join(", "):c.autrePays||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Objectifs/Description"}),(0,r.jsx)("p",{className:"text-gray-900",children:c.objectifs||c.description||"Aucune description disponible"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informations financi\xe8res"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Montant"}),(0,r.jsxs)("p",{className:"text-gray-900",children:[c.montant||c.budget||"Non sp\xe9cifi\xe9"," ",c.devise||""]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Dur\xe9e de mission"}),(0,r.jsx)("p",{className:"text-gray-900",children:c.dureeMission||"Non sp\xe9cifi\xe9e"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Date de validation"}),(0,r.jsx)("p",{className:"text-gray-900",children:c.dateValidation?new Date(c.dateValidation).toLocaleDateString("fr-FR"):"Non sp\xe9cifi\xe9e"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Date de d\xe9p\xf4t"}),(0,r.jsx)("p",{className:"text-gray-900",children:c.dateDepot?new Date(c.dateDepot).toLocaleDateString("fr-FR"):"Non sp\xe9cifi\xe9e"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Montage administratif"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Montage administratif"}),(0,r.jsx)("p",{className:"text-gray-900",children:c.montageAdministratif||"Non configur\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Charg\xe9 montage administratif"}),(0,r.jsx)("p",{className:"text-gray-900",children:c.chargeMontageAdministratif||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"D\xe9lai transmission montage administratif"}),(0,r.jsx)("p",{className:"text-gray-900",children:c.delaiTransmissionMontageAdministratif||"Non sp\xe9cifi\xe9"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"D\xe9tails suppl\xe9mentaires"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Profil expert"}),(0,r.jsx)("p",{className:"text-gray-900",children:c.profilExpert||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Nom du site"}),(0,r.jsx)("p",{className:"text-gray-900",children:c.nomSite||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Lien TDR"}),(0,r.jsx)("p",{className:"text-gray-900",children:c.lienTDR?(0,r.jsx)("a",{href:c.lienTDR,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"Voir le TDR"}):"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Commentaire"}),(0,r.jsx)("p",{className:"text-gray-900",children:c.commentaire||"Aucun commentaire"})]})]})]})]})})]})}),h&&c&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Modifier le montage administratif"}),(0,r.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("i",{className:"ri-close-line text-2xl"})})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Montage administratif"}),(0,r.jsx)("textarea",{value:u.montageAdministratif,onChange:e=>y("montageAdministratif",e.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"D\xe9tails du montage administratif..."})]})}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,r.jsx)("button",{onClick:()=>f(!1),className:"px-6 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Annuler"}),(0,r.jsx)("button",{onClick:()=>{if(c)try{let e=JSON.parse(localStorage.getItem("offres")||"[]").map(e=>e.id===c.id?{...e,montageAdministratif:u.montageAdministratif}:e);localStorage.setItem("offres",JSON.stringify(e)),s(e=>e.map(e=>e.id===c.id?{...e,montageAdministratif:u.montageAdministratif}:e)),f(!1),x(null),g({montageAdministratif:""})}catch(e){}},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Sauvegarder"})]})]})]})})]})}},82646:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var r=t(60687),i=t(85814),a=t.n(i);function l({className:e="",variant:s="default",size:t="md"}){let i=`inline-flex items-center gap-2 font-medium transition-all duration-200 hover:scale-105 ${{default:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 shadow-sm hover:shadow-md",outline:"border-2 border-blue-600 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-600 hover:text-white",icon:"bg-blue-100 text-blue-600 p-2 rounded-lg hover:bg-blue-200"}[s]} ${{sm:"text-sm px-3 py-1.5",md:"text-base px-4 py-2",lg:"text-lg px-6 py-3"}[t]} ${e}`;return(0,r.jsxs)(a(),{href:"/",className:i,children:[(0,r.jsx)("i",{className:"ri-home-line"}),"icon"!==s&&(0,r.jsx)("span",{children:"Accueil"})]})}},85654:(e,s,t)=>{Promise.resolve().then(t.bind(t,70137))}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[285,814,547,429,538,162],()=>t(48937));module.exports=r})();