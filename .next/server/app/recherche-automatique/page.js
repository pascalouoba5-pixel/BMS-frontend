(()=>{var e={};e.id=278,e.ids=[278],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4211:(e,r,t)=>{"use strict";t.d(r,{Bp:()=>a,i3:()=>s});let s={BASE_URL:"https://bms-backend-9k8n.onrender.com",NODE_ENV:"production",APP_NAME:process.env.NEXT_PUBLIC_APP_NAME||"BMS",APP_VERSION:process.env.NEXT_PUBLIC_APP_VERSION||"1.0.0",REQUEST_TIMEOUT:15e3,MAX_RETRIES:3,RETRY_DELAY:1e3,CORS_MODE:"cors",DEFAULT_HEADERS:{"Content-Type":"application/json",Accept:"application/json"}},a=async()=>{try{let e=await fetch(`${s.BASE_URL}/api/health`,{method:"GET",headers:{"Content-Type":"application/json"},mode:s.CORS_MODE});if(e.ok)return await e.json(),!0;return!1}catch(e){return!1}}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15126:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var s=t(65239),a=t(48088),l=t(88170),i=t.n(l),n=t(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(r,o);let d={children:["",{children:["recherche-automatique",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,48637)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\recherche-automatique\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,82366)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\recherche-automatique\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/recherche-automatique/page",pathname:"/recherche-automatique",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20416:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(60687),a=t(43210),l=t(32093),i=t(71142),n=t(21197);function o({frequency:e,customSchedule:r,period:t,onFrequencyChange:l,onCustomScheduleChange:i,onPeriodChange:n,onSave:o,onCancel:d}){let[c,u]=(0,a.useState)([]),[x,m]=(0,a.useState)(null),[h,g]=(0,a.useState)(r||{}),[p,b]=(0,a.useState)(!1),y=e=>{l(e),"custom"!==e&&(i(null),g({}))},f=(e,r)=>{let t={...h};Array.isArray(r)?t[e]=r:"number"==typeof r&&(t[e]=r),g(t),i(t)};return p?(0,s.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"P\xe9riode de recherche"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[{value:"all",label:"Toutes les p\xe9riodes",description:"Recherche continue sans limite de temps"},{value:"today",label:"Aujourd'hui",description:"Offres publi\xe9es aujourd'hui uniquement"},{value:"week",label:"Cette semaine",description:"Offres publi\xe9es cette semaine"},{value:"month",label:"Ce mois",description:"Offres publi\xe9es ce mois"},{value:"quarter",label:"Ce trimestre",description:"Offres publi\xe9es ce trimestre"},{value:"year",label:"Cette ann\xe9e",description:"Offres publi\xe9es cette ann\xe9e"},{value:"custom",label:"P\xe9riode personnalis\xe9e",description:"D\xe9finir une p\xe9riode sp\xe9cifique"}].map(e=>(0,s.jsxs)("label",{className:`relative flex cursor-pointer rounded-lg border p-4 focus:outline-none ${t===e.value?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-gray-600"}`,children:[(0,s.jsx)("input",{type:"radio",name:"period",value:e.value,checked:t===e.value,onChange:e=>n(e.target.value),className:"sr-only"}),(0,s.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("p",{className:`font-medium ${t===e.value?"text-green-900 dark:text-green-100":"text-gray-900 dark:text-white"}`,children:e.label}),(0,s.jsx)("p",{className:`${t===e.value?"text-green-700 dark:text-green-200":"text-gray-500 dark:text-gray-400"}`,children:e.description})]})}),t===e.value&&(0,s.jsx)("div",{className:"shrink-0 text-green-600",children:(0,s.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"})})})]})]},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Fr\xe9quence d'ex\xe9cution"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:c.map(r=>(0,s.jsxs)("label",{className:`relative flex cursor-pointer rounded-lg border p-4 focus:outline-none ${e===r.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600"}`,children:[(0,s.jsx)("input",{type:"radio",name:"frequency",value:r.value,checked:e===r.value,onChange:e=>y(e.target.value),className:"sr-only"}),(0,s.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("p",{className:`font-medium ${e===r.value?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-white"}`,children:r.label}),(0,s.jsx)("p",{className:`${e===r.value?"text-blue-700 dark:text-blue-200":"text-gray-500 dark:text-gray-400"}`,children:r.description})]})}),e===r.value&&(0,s.jsx)("div",{className:"shrink-0 text-blue-600",children:(0,s.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"})})})]})]},r.value))})]}),"custom"!==e?null:(0,s.jsxs)("div",{className:"space-y-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,s.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Configuration personnalis\xe9e"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Jours de la semaine"}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-2",children:x?.weekDays.map(e=>(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:h.weekDays?.includes(e.value)||!1,onChange:r=>{let t=h.weekDays||[];r.target.checked?f("weekDays",[...t,e.value]):f("weekDays",t.filter(r=>r!==e.value))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:e.label.slice(0,3)})]},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Heures d'ex\xe9cution"}),(0,s.jsx)("div",{className:"grid grid-cols-6 gap-2 max-h-32 overflow-y-auto",children:x?.hours.map(e=>(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:h.hours?.includes(e.value)||!1,onChange:r=>{let t=h.hours||[];r.target.checked?f("hours",[...t,e.value]):f("hours",t.filter(r=>r!==e.value))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:e.label})]},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Intervalle en heures"}),(0,s.jsx)("input",{type:"number",min:"1",max:"168",value:h.intervalHours||"",onChange:e=>f("intervalHours",parseInt(e.target.value)||void 0),placeholder:"Ex: 6 pour toutes les 6 heures",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Laissez vide si vous utilisez les jours/heures sp\xe9cifiques"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Jours du mois"}),(0,s.jsx)("div",{className:"grid grid-cols-10 gap-1 max-h-32 overflow-y-auto",children:x?.monthDays.map(e=>(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:h.monthDays?.includes(e.value)||!1,onChange:r=>{let t=h.monthDays||[];r.target.checked?f("monthDays",[...t,e.value]):f("monthDays",t.filter(r=>r!==e.value))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,s.jsx)("span",{className:"ml-2 text-xs text-gray-700 dark:text-gray-300",children:e.label})]},e.value))})]}),(0,s.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[(0,s.jsx)("h5",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"R\xe9sum\xe9 du planning"}),(0,s.jsxs)("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[h.weekDays&&h.weekDays.length>0&&(0,s.jsxs)("p",{children:["• Jours: ",h.weekDays.map(e=>x?.weekDays.find(r=>r.value===e)?.label).join(", ")]}),h.hours&&h.hours.length>0&&(0,s.jsxs)("p",{children:["• Heures: ",h.hours.map(e=>x?.hours.find(r=>r.value===e)?.label).join(", ")]}),h.intervalHours&&(0,s.jsxs)("p",{children:["• Intervalle: Toutes les ",h.intervalHours," heures"]}),h.monthDays&&h.monthDays.length>0&&(0,s.jsxs)("p",{children:["• Jours du mois: ",h.monthDays.join(", ")]}),0===Object.keys(h).length&&(0,s.jsx)("p",{children:"• Aucune configuration personnalis\xe9e d\xe9finie"})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Annuler"}),(0,s.jsx)("button",{onClick:()=>{o()},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Enregistrer"})]})]})}function d(){let[e,r]=(0,a.useState)(""),[t,d]=(0,a.useState)([]),[u,x]=(0,a.useState)(!1),[m,h]=(0,a.useState)([]),[g,p]=(0,a.useState)([]),[b,y]=(0,a.useState)("search"),[f,v]=(0,a.useState)(null),[j,k]=(0,a.useState)({keywords:"",frequency:"daily",period:"all",customSchedule:null}),[N,w]=(0,a.useState)(!1),[D,S]=(0,a.useState)(null),C=async()=>{if(e.trim()){x(!0);try{let r=await (0,n.H2)("/api/auto-search",{method:"POST",body:JSON.stringify({keywords:e.trim(),maxResults:100})});r.success&&d(r.results)}catch(e){}finally{x(!1)}}},_=async(e,r="en_cours")=>{if(f?.id)try{await (0,n.H2)(`/api/validate/${e}`,{method:"POST",body:JSON.stringify({userId:f.id,status:r})}),d(r=>r.map(r=>r.id===e?{...r,validation_count:(r.validation_count||0)+1}:r)),E()}catch(e){}},E=async()=>{if(f?.id)try{let e=await (0,n.H2)(`/api/recommend?userId=${f.id}&limit=10`);e.success&&p(e.recommendations)}catch(e){}},P=async()=>{if(f?.id)try{let e=await n.c9.getAll(f.id);e.success&&h(e.searches)}catch(e){}},A=async()=>{if(f?.id)try{await n.c9.create({userId:f.id,keywords:j.keywords.trim(),frequency:j.frequency,customSchedule:j.customSchedule}),k({keywords:"",frequency:"daily",period:"all",customSchedule:null}),P(),w(!1)}catch(e){}},O=async()=>{if(f?.id&&D)try{await n.c9.update({userId:f.id,keywords:D.keywords,frequency:D.frequency,customSchedule:D.custom_schedule?JSON.parse(D.custom_schedule):null,isActive:D.is_active}),S(null),P(),w(!1)}catch(e){}},R=async e=>{if(f?.id)try{await n.c9.delete({userId:f.id,keywords:e}),P()}catch(e){}},T=async e=>{if(f?.id)try{await n.c9.update({userId:f.id,keywords:e.keywords,frequency:e.frequency,customSchedule:e.custom_schedule?JSON.parse(e.custom_schedule):null,isActive:!e.is_active}),P()}catch(e){}},q=e=>{S(e),k({keywords:e.keywords,frequency:e.frequency,period:e.period||"all",customSchedule:e.custom_schedule?JSON.parse(e.custom_schedule):null}),w(!0)},M=()=>{S(null),k({keywords:"",frequency:"daily",period:"all",customSchedule:null}),w(!0)},I=()=>{w(!1),S(null),k({keywords:"",frequency:"daily",period:"all",customSchedule:null})};return(0,s.jsx)(i.default,{pageName:"recherche-automatique",children:(0,s.jsxs)(l.default,{children:[(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Recherche Automatique d'Opportunit\xe9s"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Recherchez automatiquement des appels d'offres, avis g\xe9n\xe9raux et accords-cadres"})]}),(0,s.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-8",children:(0,s.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"search",label:"Recherche",icon:"\uD83D\uDD0D"},{id:"scheduled",label:"Recherches Programm\xe9es",icon:"⏰"},{id:"recommendations",label:"Recommandations",icon:"\uD83D\uDCA1"},{id:"history",label:"Historique",icon:"\uD83D\uDCCB"}].map(e=>(0,s.jsxs)("button",{onClick:()=>y(e.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${b===e.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[(0,s.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id))})}),(0,s.jsxs)("div",{className:"space-y-8",children:["search"===b&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Nouvelle Recherche"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("input",{type:"text",value:e,onChange:e=>r(e.target.value),placeholder:"Entrez vos mots-cl\xe9s (ex: d\xe9veloppement informatique, formation, consultation...)",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",onKeyPress:e=>"Enter"===e.key&&C()}),(0,s.jsx)("button",{onClick:C,disabled:u||!e.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Recherche...":"Rechercher"})]})]}),(0,s.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"\uD83C\uDF10 Sites de Publication des Offres"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-200 dark:border-blue-700",children:[(0,s.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"\uD83C\uDFDB️ BOAMP"}),(0,s.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-2",children:"Bulletin Officiel des Annonces de March\xe9s Publics"}),(0,s.jsx)("a",{href:"https://www.boamp.fr",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Visiter le site →"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-green-200 dark:border-green-700",children:[(0,s.jsx)("h4",{className:"font-medium text-green-900 dark:text-green-100 mb-2",children:"⚖️ Legifrance"}),(0,s.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300 mb-2",children:"Journal Officiel et consultations publiques"}),(0,s.jsx)("a",{href:"https://www.legifrance.gouv.fr",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-green-600 dark:text-green-400 hover:underline",children:"Visiter le site →"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-purple-200 dark:border-purple-700",children:[(0,s.jsx)("h4",{className:"font-medium text-purple-900 dark:text-purple-100 mb-2",children:"\uD83C\uDDEA\uD83C\uDDFA European Tenders"}),(0,s.jsx)("p",{className:"text-sm text-purple-700 dark:text-purple-300 mb-2",children:"Appels d'offres europ\xe9ens"}),(0,s.jsx)("a",{href:"https://www.european-tenders.com",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-purple-600 dark:text-purple-400 hover:underline",children:"Visiter le site →"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-orange-200 dark:border-orange-700",children:[(0,s.jsx)("h4",{className:"font-medium text-orange-900 dark:text-orange-100 mb-2",children:"\uD83C\uDF0D J360"}),(0,s.jsx)("p",{className:"text-sm text-orange-700 dark:text-orange-300 mb-2",children:"Plateforme d'opportunit\xe9s internationales"}),(0,s.jsx)("a",{href:"https://www.j360.info",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-orange-600 dark:text-orange-400 hover:underline",children:"Visiter le site →"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-indigo-200 dark:border-indigo-700",children:[(0,s.jsx)("h4",{className:"font-medium text-indigo-900 dark:text-indigo-100 mb-2",children:"\uD83C\uDF0D DevelopmentAid"}),(0,s.jsx)("p",{className:"text-sm text-indigo-700 dark:text-indigo-300 mb-2",children:"Opportunit\xe9s de d\xe9veloppement international et projets"}),(0,s.jsx)("a",{href:"https://www.developmentaid.org/tenders/search",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-indigo-600 dark:text-indigo-400 hover:underline",children:"Visiter le site →"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-teal-200 dark:border-teal-700",children:[(0,s.jsx)("h4",{className:"font-medium text-teal-900 dark:text-teal-100 mb-2",children:"\uD83D\uDCCA BM"}),(0,s.jsx)("p",{className:"text-sm text-teal-700 dark:text-teal-300 mb-2",children:"Banque Mondiale - Appels d'offres"}),(0,s.jsx)("a",{href:"https://www.worldbank.org",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-teal-600 dark:text-teal-400 hover:underline",children:"Visiter le site →"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-red-200 dark:border-red-700",children:[(0,s.jsx)("h4",{className:"font-medium text-red-900 dark:text-red-100 mb-2",children:"\uD83C\uDD98 ReliefWeb"}),(0,s.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300 mb-2",children:"Opportunit\xe9s humanitaires et d'urgence"}),(0,s.jsx)("a",{href:"https://reliefweb.int",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-red-600 dark:text-red-400 hover:underline",children:"Visiter le site →"})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-yellow-200 dark:border-yellow-700",children:[(0,s.jsx)("h4",{className:"font-medium text-yellow-900 dark:text-yellow-100 mb-2",children:"\uD83E\uDD1D Coordination Sud"}),(0,s.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mb-2",children:"R\xe9seau des ONG fran\xe7aises"}),(0,s.jsx)("a",{href:"https://www.coordinationsud.org",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-yellow-600 dark:text-yellow-400 hover:underline",children:"Visiter le site →"})]})]})]}),t.length>0?(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold mb-4",children:["R\xe9sultats (",t.length,")"]}),(0,s.jsx)("div",{className:"grid gap-4",children:t.map(e=>(0,s.jsx)(c,{result:e,onValidate:_},e.id))})]}):e.trim()&&(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-8 text-center",children:[(0,s.jsx)("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:(0,s.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Aucun r\xe9sultat trouv\xe9"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Aucune offre ne correspond \xe0 vos crit\xe8res de recherche."}),(0,s.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(0,s.jsx)("p",{children:"\uD83D\uDCA1 Conseils de recherche :"}),(0,s.jsxs)("ul",{className:"mt-2 space-y-1",children:[(0,s.jsx)("li",{children:"• Essayez des mots-cl\xe9s plus g\xe9n\xe9raux"}),(0,s.jsx)("li",{children:"• V\xe9rifiez l'orthographe"}),(0,s.jsx)("li",{children:"• Utilisez des synonymes"})]})]})]})]}),"scheduled"===b&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Recherches Programm\xe9es"}),(0,s.jsxs)("button",{onClick:M,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[(0,s.jsx)("span",{className:"mr-2",children:"➕"}),"Nouvelle Recherche"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,s.jsx)("input",{type:"text",value:j.keywords,onChange:e=>k(r=>({...r,keywords:e.target.value})),placeholder:"Mots-cl\xe9s",className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),(0,s.jsxs)("select",{value:j.frequency,onChange:e=>k(r=>({...r,frequency:e.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,s.jsx)("option",{value:"hourly",children:"Toutes les heures"}),(0,s.jsx)("option",{value:"daily",children:"Quotidienne"}),(0,s.jsx)("option",{value:"weekly",children:"Hebdomadaire"}),(0,s.jsx)("option",{value:"monthly",children:"Mensuelle"}),(0,s.jsx)("option",{value:"custom",children:"Personnalis\xe9e"})]}),(0,s.jsxs)("select",{value:j.period,onChange:e=>k(r=>({...r,period:e.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,s.jsx)("option",{value:"all",children:"Toutes les p\xe9riodes"}),(0,s.jsx)("option",{value:"today",children:"Aujourd'hui"}),(0,s.jsx)("option",{value:"week",children:"Cette semaine"}),(0,s.jsx)("option",{value:"month",children:"Ce mois"}),(0,s.jsx)("option",{value:"quarter",children:"Ce trimestre"}),(0,s.jsx)("option",{value:"year",children:"Cette ann\xe9e"}),(0,s.jsx)("option",{value:"custom",children:"P\xe9riode personnalis\xe9e"})]}),(0,s.jsx)("button",{onClick:A,disabled:!j.keywords.trim(),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Ajouter"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recherches Programm\xe9es Actives"}),(0,s.jsx)("div",{className:"grid gap-4",children:m.length>0?m.map(e=>(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("h4",{className:"font-semibold text-lg",children:e.keywords}),(0,s.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${e.is_active?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}`,children:e.is_active?"Active":"Inactive"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[(0,s.jsx)("span",{className:"font-medium",children:"Fr\xe9quence:"})," ","hourly"===e.frequency?"Toutes les heures":"daily"===e.frequency?"Quotidienne":"weekly"===e.frequency?"Hebdomadaire":"monthly"===e.frequency?"Mensuelle":"Personnalis\xe9e"]}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[(0,s.jsx)("span",{className:"font-medium",children:"P\xe9riode:"})," ","all"===e.period?"Toutes les p\xe9riodes":"today"===e.period?"Aujourd'hui":"week"===e.period?"Cette semaine":"month"===e.period?"Ce mois":"quarter"===e.period?"Ce trimestre":"year"===e.period?"Cette ann\xe9e":"custom"===e.period?"P\xe9riode personnalis\xe9e":"Toutes les p\xe9riodes"]}),e.custom_schedule&&(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-500 text-xs mt-1",children:"Planning personnalis\xe9 configur\xe9"})]}),(0,s.jsxs)("div",{children:[e.last_run&&(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[(0,s.jsx)("span",{className:"font-medium",children:"Derni\xe8re ex\xe9cution:"}),(0,s.jsx)("br",{}),new Date(e.last_run).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),e.next_run&&(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[(0,s.jsx)("span",{className:"font-medium",children:"Prochaine ex\xe9cution:"}),(0,s.jsx)("br",{}),new Date(e.next_run).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 ml-4",children:[(0,s.jsx)("button",{onClick:()=>q(e),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"✏️ Modifier"}),(0,s.jsx)("button",{onClick:()=>T(e),className:`px-3 py-2 rounded-lg transition-colors text-sm ${e.is_active?"bg-orange-600 text-white hover:bg-orange-700":"bg-green-600 text-white hover:bg-green-700"}`,children:e.is_active?"⏸️ Pause":"▶️ Activer"}),(0,s.jsx)("button",{onClick:()=>R(e.keywords),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"\uD83D\uDDD1️ Supprimer"})]})]})},e.id)):(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-8 text-center",children:[(0,s.jsx)("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:(0,s.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Aucune recherche programm\xe9e"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Cr\xe9ez votre premi\xe8re recherche programm\xe9e pour automatiser la veille d'opportunit\xe9s."}),(0,s.jsx)("button",{onClick:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Cr\xe9er une recherche programm\xe9e"})]})})]})]}),"recommendations"===b&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Recommandations Personnalis\xe9es"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Offres recommand\xe9es bas\xe9es sur vos validations pr\xe9c\xe9dentes"})]}),(0,s.jsx)("button",{onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"\uD83D\uDD04 Actualiser"})]}),g.length>0?(0,s.jsx)("div",{className:"grid gap-4",children:g.map(e=>(0,s.jsx)(c,{result:e,onValidate:_,showSimilarity:!0},e.id))}):(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-8 text-center",children:[(0,s.jsx)("div",{className:"text-gray-400 dark:text-gray-500 mb-4",children:(0,s.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Aucune recommandation disponible"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Commencez par valider quelques offres pour recevoir des recommandations personnalis\xe9es."})]})]}),"history"===b&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Historique des Recherches"}),(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"L'historique d\xe9taill\xe9 de vos recherches sera bient\xf4t disponible."})})]})]})]}),N&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:D?"Modifier la Recherche Programm\xe9e":"Nouvelle Recherche Programm\xe9e"}),(0,s.jsx)("button",{onClick:I,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mots-cl\xe9s de recherche"}),(0,s.jsx)("input",{type:"text",value:j.keywords,onChange:e=>k(r=>({...r,keywords:e.target.value})),placeholder:"Ex: construction, informatique, services...",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-lg"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"D\xe9crivez pr\xe9cis\xe9ment les opportunit\xe9s que vous recherchez"})]}),(0,s.jsx)(o,{keywords:j.keywords,frequency:j.frequency,customSchedule:j.customSchedule,period:j.period,onFrequencyChange:e=>k(r=>({...r,frequency:e})),onCustomScheduleChange:e=>k(r=>({...r,customSchedule:e})),onPeriodChange:e=>k(r=>({...r,period:e})),onSave:()=>{if(!j.keywords.trim())return void alert("Veuillez saisir des mots-cl\xe9s pour la recherche programm\xe9e.");D?O():A()},onCancel:I})]})})})]})})}function c({result:e,onValidate:r,showSimilarity:t=!1}){var l;let[i,n]=(0,a.useState)(!1),o=(l=e.source,e.sourceIcon?{icon:e.sourceIcon,color:"bg-blue-100 text-blue-800",name:e.source||l}:({BOAMP:{icon:"\uD83C\uDFDB️",color:"bg-blue-100 text-blue-800",name:"BOAMP - Bulletin Officiel des Annonces de March\xe9s Publics"},Legifrance:{icon:"⚖️",color:"bg-green-100 text-green-800",name:"Legifrance - Journal Officiel"},"European Tenders":{icon:"\uD83C\uDDEA\uD83C\uDDFA",color:"bg-purple-100 text-purple-800",name:"European Tenders"},J360:{icon:"\uD83C\uDF0D",color:"bg-orange-100 text-orange-800",name:"J360 - Plateforme d'opportunit\xe9s internationales"},DevelopmentAid:{icon:"\uD83C\uDF0D",color:"bg-indigo-100 text-indigo-800",name:"DevelopmentAid - Opportunit\xe9s de d\xe9veloppement international"},BM:{icon:"\uD83D\uDCCA",color:"bg-teal-100 text-teal-800",name:"Banque Mondiale - Appels d'offres"},ReliefWeb:{icon:"\uD83C\uDD98",color:"bg-red-100 text-red-800",name:"ReliefWeb - Opportunit\xe9s humanitaires"},"Coordination Sud":{icon:"\uD83E\uDD1D",color:"bg-yellow-100 text-yellow-800",name:"Coordination Sud - R\xe9seau des ONG fran\xe7aises"},"Innovation France":{icon:"\uD83D\uDE80",color:"bg-orange-100 text-orange-800",name:"Innovation France"},"Consultations Publiques":{icon:"\uD83D\uDCCB",color:"bg-indigo-100 text-indigo-800",name:"Consultations Publiques"},Google:{icon:"\uD83D\uDD0D",color:"bg-gray-100 text-gray-800",name:"Google Search"},Bing:{icon:"\uD83D\uDD0D",color:"bg-gray-100 text-gray-800",name:"Bing Search"}})[l]||{icon:"\uD83D\uDCC4",color:"bg-gray-100 text-gray-800",name:l});return(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:e.title}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-3",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-3",children:[(0,s.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.color}`,children:[o.icon," ",e.source]}),(0,s.jsxs)("span",{children:["\uD83D\uDCC5 ",new Date(e.date).toLocaleDateString("fr-FR")]}),e.relevance&&(0,s.jsxs)("span",{children:["\uD83C\uDFAF Pertinence: ",(100*e.relevance).toFixed(1),"%"]}),e.estimated_value&&(0,s.jsxs)("span",{children:["\uD83D\uDCB0 Valeur estim\xe9e: ",e.estimated_value.toLocaleString("fr-FR")," €"]}),e.deadline&&(0,s.jsxs)("span",{children:["⏰ \xc9ch\xe9ance: ",new Date(e.deadline).toLocaleDateString("fr-FR")]}),e.location&&(0,s.jsxs)("span",{children:["\uD83D\uDCCD Localisation: ",e.location]}),e.category&&(0,s.jsxs)("span",{children:["\uD83C\uDFF7️ Cat\xe9gorie: ",e.category]}),e.validation_count&&(0,s.jsxs)("span",{children:["✅ Validations: ",e.validation_count]}),t&&e.similarity_score&&(0,s.jsxs)("span",{children:["\uD83C\uDFAF Similarit\xe9: ",(100*e.similarity_score).toFixed(1),"%"]})]}),(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:["\uD83D\uDD17 Consulter l'offre sur ",e.source,(0,s.jsx)("svg",{className:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})}),(0,s.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 mb-3",children:[(0,s.jsxs)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["\uD83D\uDCCB Site de publication: ",o.name]}),(0,s.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Cette offre a \xe9t\xe9 publi\xe9e sur ",e.source,". Cliquez sur le bouton ci-dessus pour la consulter directement sur le site officiel."]})]})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{onClick:()=>n(!i),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"⋮"}),i&&(0,s.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-md shadow-lg z-10",children:(0,s.jsxs)("div",{className:"py-1",children:[(0,s.jsx)("button",{onClick:()=>{r(e.id,"en_cours"),n(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",children:"✅ Valider (En cours)"}),(0,s.jsx)("button",{onClick:()=>{r(e.id,"depose"),n(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",children:"\uD83D\uDCE4 Valider (D\xe9pos\xe9)"}),(0,s.jsx)("button",{onClick:()=>{r(e.id,"gagne"),n(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",children:"\uD83C\uDFC6 Valider (Gagn\xe9)"}),(0,s.jsx)("button",{onClick:()=>{r(e.id,"perdu"),n(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",children:"❌ Valider (Perdu)"}),(0,s.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 my-1"}),(0,s.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",children:"\uD83D\uDD17 Ouvrir le lien"}),(0,s.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e.url),n(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",children:"\uD83D\uDCCB Copier le lien"})]})})]})]})})}},21197:(e,r,t)=>{"use strict";t.d(r,{H2:()=>u,R2:()=>x,sF:()=>m,c9:()=>h});var s=function(e){return e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e.CRITICAL="CRITICAL",e}({});class a{formatMessage(e){let r=new Date(e.timestamp).toLocaleTimeString(),t=e.context?`[${e.context}]`:"",s=`[${e.level}]`,a=`${r} ${s} ${t} ${e.message}`;return e.data&&(a+=` | Data: ${JSON.stringify(e.data)}`),e.error&&(a+=` | Error: ${e.error.message}`,e.error.stack&&(a+=` | Stack: ${e.error.stack}`)),a}addLog(e){this.logs.push(e),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(-this.maxLogs)),this.isDevelopment&&(this.formatMessage(e),e.level),!this.isDevelopment&&e.level>="ERROR"&&this.sendToMonitoring(e)}async sendToMonitoring(e){}debug(e,r,t){this.addLog({level:"DEBUG",message:e,context:r,data:t,timestamp:new Date().toISOString()})}info(e,r,t){this.addLog({level:"INFO",message:e,context:r,data:t,timestamp:new Date().toISOString()})}warn(e,r,t){this.addLog({level:"WARN",message:e,context:r,data:t,timestamp:new Date().toISOString()})}error(e,r,t,s){this.addLog({level:"ERROR",message:e,error:r,context:t,data:s,timestamp:new Date().toISOString()})}critical(e,r,t,s){this.addLog({level:"CRITICAL",message:e,error:r,context:t,data:s,timestamp:new Date().toISOString()})}apiError(e,r,t,s){this.error(`Erreur API sur ${e}`,r,"API",{endpoint:e,status:t?.status,statusText:t?.statusText,url:t?.url,data:s})}dashboardError(e,r,t,s){this.error(`Erreur Dashboard: ${e}`,r,"Dashboard",{operation:e,filters:t,data:s})}authError(e,r,t){this.error(`Erreur Auth: ${e}`,r,"Auth",t)}getRecentLogs(e,r=50){let t=this.logs;return e&&(t=t.filter(r=>r.level===e)),t.slice(-r)}exportLogs(){return JSON.stringify(this.logs,null,2)}clearLogs(){this.logs=[]}getLogStats(){let e={total:this.logs.length,byLevel:{},recentErrors:this.logs.filter(e=>e.level>="ERROR").slice(-10)};return Object.values(s).forEach(r=>{e.byLevel[r]=this.logs.filter(e=>e.level===r).length}),e}constructor(){this.logs=[],this.maxLogs=1e3,this.isDevelopment=!1}}let l=new a,i=(e,r,t)=>l.info(e,r,t),n=(e,r,t)=>l.warn(e,r,t),o=(e,r,t,s)=>l.error(e,r,t,s);var d=t(4211);let c=d.i3.BASE_URL;i("Configuration: NEXT_PUBLIC_API_URL=https://bms-backend-9k8n.onrender.com","API"),i(`URL de base utilis\xe9e: ${c}`,"API"),i(`Environnement: ${d.i3.NODE_ENV}`,"API");let u=async(e,r={})=>{let t=`${c}${e}`;i(`Appel vers: ${t}`,"API"),i(`Token pr\xe9sent: NON`,"API");let s={headers:{...d.i3.DEFAULT_HEADERS,...r.headers},mode:d.i3.CORS_MODE,...r};try{let r;i(`Envoi de la requ\xeate vers: ${t}`,"API");let a=new AbortController,c=setTimeout(()=>a.abort(),d.i3.REQUEST_TIMEOUT),u=await fetch(t,{...s,signal:a.signal});if(clearTimeout(c),i(`R\xe9ponse re\xe7ue: ${u.status} ${u.statusText}`,"API"),i(`Headers de r\xe9ponse: ${JSON.stringify(Object.fromEntries(u.headers.entries()))}`,"API"),!u.ok){let r={};try{r=await u.json()}catch(e){n(`Impossible de parser le body d'erreur: ${e instanceof Error?e.message:String(e)}`,"API"),r={error:`Erreur HTTP ${u.status}: ${u.statusText}`}}if(l.apiError(e,Error(`HTTP ${u.status}: ${u.statusText}`),u,{status:u.status,statusText:u.statusText,url:t,errorData:r,headers:Object.fromEntries(u.headers.entries())}),401===u.status)throw l.authError("Token invalide",Error(r.error||"Token expir\xe9 ou invalide"),r),Error("Token invalide - Redirection vers la connexion");let s=r.error||r.message||`Erreur HTTP ${u.status}: ${u.statusText}`;throw Error(s)}try{r=await u.json(),i(`Succ\xe8s: ${e}`,"API",r)}catch(e){throw o(`Erreur lors du parsing de la r\xe9ponse: ${e instanceof Error?e.message:String(e)}`,e instanceof Error?e:Error(String(e)),"API"),Error(`Erreur lors du parsing de la r\xe9ponse: ${e instanceof Error?e.message:String(e)}`)}return r}catch(r){if(l.apiError(e,r instanceof Error?r:Error(String(r)),void 0,{url:t,options:s,error:r instanceof Error?r.message:String(r),stack:r instanceof Error?r.stack:void 0}),r instanceof Error&&"AbortError"===r.name)throw Error(`Timeout de la requ\xeate apr\xe8s ${d.i3.REQUEST_TIMEOUT}ms`);if(r instanceof Error&&r.message.includes("Failed to fetch"))throw Error("Erreur de connexion au serveur - V\xe9rifiez votre connexion internet");throw r}},x={login:async e=>u("/api/auth/login",{method:"POST",body:JSON.stringify(e)}),logout:async()=>({success:!0,message:"D\xe9connexion r\xe9ussie"}),register:async e=>u("/api/auth/register",{method:"POST",body:JSON.stringify(e)}),verifyToken:async()=>u("/api/auth/verify")},m={getAll:async()=>u("/api/offres"),create:async e=>u("/api/offres",{method:"POST",body:JSON.stringify(e)}),update:async(e,r)=>u(`/api/offres/${e}`,{method:"PUT",body:JSON.stringify(r)}),delete:async e=>u(`/api/offres/${e}`,{method:"DELETE"}),validate:async(e,r)=>u(`/api/offres/${e}/validate`,{method:"PATCH",body:JSON.stringify(r)})},h={getAll:async e=>u(`/api/scheduled-searches?userId=${e}`),getOptions:async()=>u("/api/scheduled-searches/options"),create:async e=>u("/api/scheduled-searches",{method:"POST",body:JSON.stringify(e)}),update:async e=>u("/api/scheduled-searches",{method:"PUT",body:JSON.stringify(e)}),delete:async e=>u("/api/scheduled-searches",{method:"DELETE",body:JSON.stringify(e)}),getSavedKeywords:async e=>u(`/api/scheduled-searches/saved-keywords?userId=${e}`),saveKeywords:async e=>u("/api/scheduled-searches/saved-keywords",{method:"POST",body:JSON.stringify(e)}),deleteSavedKeywords:async(e,r)=>u(`/api/scheduled-searches/saved-keywords/${e}`,{method:"DELETE",body:JSON.stringify({userId:r})}),getSearchStats:async e=>{let r=e?`?userId=${e}`:"";return u(`/api/scheduled-searches/search-stats${r}`)}}},27664:(e,r,t)=>{Promise.resolve().then(t.bind(t,20416))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},48637:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\User\\\\Desktop\\\\Projet du pole Informatique\\\\Dossier d\xe9veloppement\\\\BMS 3\\\\BMS_06_08_25\\\\BMS_06_08_25\\\\BMS\\\\frontend\\\\app\\\\recherche-automatique\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\recherche-automatique\\page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69520:(e,r,t)=>{Promise.resolve().then(t.bind(t,48637))}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[285,814,547,429,538],()=>t(15126));module.exports=s})();