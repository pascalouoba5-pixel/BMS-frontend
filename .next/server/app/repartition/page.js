(()=>{var e={};e.id=796,e.ids=[796],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33346:(e,t,s)=>{Promise.resolve().then(s.bind(s,81751))},33873:e=>{"use strict";e.exports=require("path")},36452:(e,t,s)=>{"use strict";s.d(t,{g:()=>l});var r=s(43210);let i=["P\xf4le sant\xe9","P\xf4le Wash","P\xf4le Education","P\xf4le Climat","P\xf4le Enqu\xeates","P\xf4le Mod\xe9lisation","P\xf4le Finances Publiques","P\xf4le D\xe9centralisation","P\xf4le Coh\xe9sion sociale","P\xf4le Anglophone","P\xf4le SIDIA"],a="globalPoleFilters",l=()=>{let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)("");(0,r.useEffect)(()=>{o()},[]);let o=()=>{try{let e=localStorage.getItem(a);if(e){let s=JSON.parse(e);t(s.selectedPoleLead),l(s.selectedPoleAssocies)}}catch(e){console.error("Erreur lors du chargement des filtres globaux:",e)}},n=(0,r.useCallback)((e,t)=>{try{localStorage.setItem(a,JSON.stringify({selectedPoleLead:e,selectedPoleAssocies:t}))}catch(e){console.error("Erreur lors de la sauvegarde des filtres globaux:",e)}},[]),d=(0,r.useCallback)((e,s)=>{t(e),l(s),n(e,s)},[n]),c=(0,r.useCallback)(()=>{d("","")},[d]);return{selectedPoleLead:e,selectedPoleAssocies:s,updateGlobalFilters:d,resetFilters:c,POLE_OPTIONS:i}}},51498:(e,t,s)=>{Promise.resolve().then(s.bind(s,64165))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64165:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(60687),i=s(85814),a=s.n(i),l=s(43210),o=s(36452),n=s(82646),d=s(71142),c=s(32093),p=s(7763);function x(){return(0,r.jsx)(d.default,{pageName:"repartition",children:(0,r.jsx)(c.default,{children:(0,r.jsx)(u,{})})})}function u(){let{selectedPoleLead:e,selectedPoleAssocies:t,updateGlobalFilters:s,POLE_OPTIONS:i}=(0,o.g)(),[d,c]=(0,l.useState)(null),[x,u]=(0,l.useState)([]),[m,h]=(0,l.useState)([]),[f,g]=(0,l.useState)(!0),[b,y]=(0,l.useState)(""),[j,N]=(0,l.useState)(""),[v,w]=(0,l.useState)(""),[P,S]=(0,l.useState)("dateDepot"),[E,D]=(0,l.useState)("desc"),[_,k]=(0,l.useState)("table"),A=e=>{switch(e){case"brouillon":default:return"bg-gray-100 text-gray-800";case"en_attente":return"bg-yellow-100 text-yellow-800";case"approuv\xe9e":return"bg-green-100 text-green-800";case"rejet\xe9e":return"bg-red-100 text-red-800"}},$=e=>{switch(e){case"brouillon":return"Brouillon";case"en_attente":return"En attente";case"approuv\xe9e":return"Approuv\xe9e";case"rejet\xe9e":return"Rejet\xe9e";default:return"Non sp\xe9cifi\xe9"}},I=e=>e&&0!==e.length?1===e.length?e[0]:e.length<=3?e.join(", "):`${e.slice(0,3).join(", ")} +${e.length-3}`:"Non sp\xe9cifi\xe9",T=e=>{if(!e)return"Non sp\xe9cifi\xe9e";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Date invalide"}},O=(e,t)=>e?t?`${e} ${t}`:e:"Non sp\xe9cifi\xe9",R=e=>{if(!e.tdrFile&&!e.lienTDR)return void alert("Aucun fichier TDR disponible pour cette offre.");let t=e.tdrFile||e.lienTDR;if(t){let s=document.createElement("a");s.href=t,s.download=`TDR_${e.intituleOffre||e.titre||e.id}.pdf`,s.target="_blank",document.body.appendChild(s),s.click(),document.body.removeChild(s)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:[(0,r.jsx)(p.A,{}),(0,r.jsx)("nav",{className:"bg-white/90 backdrop-blur-sm border-b border-blue-100 sticky top-0 z-50",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(a(),{href:"/",children:(0,r.jsx)("img",{src:"https://static.readdy.ai/image/36ce116ccdb0d05752a287dd792317ce/3a2cd734c9129790560cc32a9975e166.jfif",alt:"AMD Logo",className:"h-10 cursor-pointer"})})}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,r.jsx)(n.default,{variant:"outline",size:"sm"}),(0,r.jsx)(a(),{href:"/dashboard",className:"text-gray-700 hover:text-blue-600 transition-colors cursor-pointer",children:"Dashboard"}),(0,r.jsx)(a(),{href:"/offres",className:"text-gray-700 hover:text-blue-600 transition-colors cursor-pointer",children:"Offres"}),(0,r.jsx)(a(),{href:"/offre-du-jour",className:"text-gray-700 hover:text-blue-600 transition-colors cursor-pointer",children:"Offre du Jour"})]})]})})}),(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 py-12",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"text-center text-white",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-500/30 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("i",{className:"ri-apps-line text-2xl"})}),(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"R\xe9partition des Offres"}),(0,r.jsx)("p",{className:"text-xl opacity-90 mb-6",children:"S\xe9lectionnez un p\xf4le pour acc\xe9der \xe0 ses fonctionnalit\xe9s"})]})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6 mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Filtres de R\xe9partition"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"P\xf4le LEAD"}),(0,r.jsxs)("select",{value:e,onChange:e=>{s(e.target.value,t)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Tous les p\xf4les"}),i.map((e,t)=>(0,r.jsx)("option",{value:e,children:e},t))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"P\xf4le ASSOCI\xc9S"}),(0,r.jsxs)("select",{value:t,onChange:t=>{s(e,t.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Tous les p\xf4les"}),i.map((e,t)=>(0,r.jsx)("option",{value:e,children:e},t))]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recherche"}),(0,r.jsx)("input",{type:"text",placeholder:"Rechercher par titre, bailleur...",value:b,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)("i",{className:"ri-layout-line mr-2"}),"Vue"]}),(0,r.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,r.jsxs)("button",{onClick:()=>k("table"),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 ${"table"===_?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[(0,r.jsx)("i",{className:"ri-table-line"}),"Tableau"]}),(0,r.jsxs)("button",{onClick:()=>k("cards"),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 ${"cards"===_?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[(0,r.jsx)("i",{className:"ri-grid-line"}),"Cartes"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pays"}),(0,r.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Tous les pays"}),Array.from(new Set(x.flatMap(e=>e.pays||[]))).sort().map((e,t)=>(0,r.jsx)("option",{value:e,children:e},t))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priorit\xe9"}),(0,r.jsxs)("select",{value:v,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Toutes les priorit\xe9s"}),(0,r.jsx)("option",{value:"Opportunit\xe9 interm\xe9diaire",children:"Opportunit\xe9 interm\xe9diaire"}),(0,r.jsx)("option",{value:"Priorit\xe9 haute",children:"Priorit\xe9 haute"}),(0,r.jsx)("option",{value:"Strat\xe9gique",children:"Strat\xe9gique"})]})]})]})]}),(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6 mb-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("i",{className:"ri-alert-line text-2xl text-blue-600"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Offres non attribu\xe9es"}),(0,r.jsx)("div",{className:"text-5xl font-bold text-blue-600 mb-2",children:x.filter(e=>!e.poleLead).length}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Nombre d'offres qui n'ont pas encore \xe9t\xe9 attribu\xe9es \xe0 un p\xf4le LEAD"})]})}),m.length>0&&(0,r.jsx)("div",{className:"mb-8",children:"table"===_?(0,r.jsx)(()=>(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,r.jsx)("i",{className:"ri-file-list-3-line text-blue-600 mr-2"}),"Tableau Complet des Modalit\xe9s de R\xe9partition"]}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"Toutes les informations du formulaire de gestion de r\xe9partition"})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Intitul\xe9 Offre"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bailleur/Client"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pays"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type Offre"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Secteurs/Objectifs"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priorit\xe9"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"P\xf4le Lead"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"P\xf4le Associ\xe9s"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dur\xe9e Mission"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profil Expert"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date D\xe9p\xf4t"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Soumission"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Offre Trouv\xe9e Par"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commentaire"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.id]}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.intituleOffre||e.titre||"Non sp\xe9cifi\xe9"})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.bailleur||e.client||"Non sp\xe9cifi\xe9"}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:I(e.pays)}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.typeOffre||"Non sp\xe9cifi\xe9"}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 max-w-xs",children:(0,r.jsx)("div",{className:"truncate",title:e.objectifs||"Non sp\xe9cifi\xe9",children:e.objectifs||"Non sp\xe9cifi\xe9"})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${"Priorit\xe9 haute"===e.priorite?"bg-red-100 text-red-800":"Strat\xe9gique"===e.priorite?"bg-purple-100 text-purple-800":"Opportunit\xe9 interm\xe9diaire"===e.priorite?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:e.priorite||"Non sp\xe9cifi\xe9e"})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,r.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${A(e.statut||"")}`,children:$(e.statut||"")})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.poleLead||"Non attribu\xe9"}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.poleAssocies||"Non attribu\xe9"}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:O(e.montant,e.devise)}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.dureeMission||"Non sp\xe9cifi\xe9e"}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 max-w-xs",children:(0,r.jsx)("div",{className:"truncate",title:e.profilExpert||"Non sp\xe9cifi\xe9",children:e.profilExpert||"Non sp\xe9cifi\xe9"})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:T(e.dateDepot)}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:T(e.dateSoumissionValidation)}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.offreTrouveePar||"Non sp\xe9cifi\xe9"}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 max-w-xs",children:(0,r.jsx)("div",{className:"truncate",title:e.commentaire||"Non sp\xe9cifi\xe9",children:e.commentaire||"Non sp\xe9cifi\xe9"})}),(0,r.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>R(e),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"T\xe9l\xe9charger TDR",children:(0,r.jsx)("i",{className:"ri-download-line"})}),(0,r.jsx)(a(),{href:`/repartition/pole-lead/${e.poleLead||"Non attribu\xe9"}`,className:"text-green-600 hover:text-green-900 p-1 rounded",title:"Voir p\xf4le",children:(0,r.jsx)("i",{className:"ri-eye-line"})})]})})]},e.id))})]})})]}),{}):(0,r.jsx)(()=>(0,r.jsx)("div",{className:"grid gap-6",children:m.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"text-lg font-bold text-gray-900 mb-1",children:e.intituleOffre||e.titre||"Non sp\xe9cifi\xe9"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.bailleur||e.client||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end gap-2 ml-4",children:[(0,r.jsx)("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${A(e.statut||"")}`,children:$(e.statut||"")}),(0,r.jsx)("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${"Priorit\xe9 haute"===e.priorite?"bg-red-100 text-red-800":"Strat\xe9gique"===e.priorite?"bg-purple-100 text-purple-800":"Opportunit\xe9 interm\xe9diaire"===e.priorite?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:e.priorite||"Non sp\xe9cifi\xe9e"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-semibold text-gray-900 mb-3 text-sm uppercase tracking-wide",children:"Informations de base"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Pays:"})," ",I(e.pays)]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Secteurs:"})," ",e.objectifs||"Non sp\xe9cifi\xe9"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Budget:"})," ",O(e.montant,e.devise)]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-semibold text-gray-900 mb-3 text-sm uppercase tracking-wide",children:"P\xf4les et attribution"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"P\xf4le Lead:"})," ",e.poleLead||"Non attribu\xe9"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"P\xf4le Associ\xe9s:"})," ",e.poleAssocies||"Non attribu\xe9"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Date d\xe9p\xf4t:"})," ",T(e.dateDepot)]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"font-semibold text-gray-900 mb-3 text-sm uppercase tracking-wide",children:"Actions"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("button",{onClick:()=>R(e),className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:[(0,r.jsx)("i",{className:"ri-download-line mr-2"}),"T\xe9l\xe9charger TDR"]}),(0,r.jsxs)(a(),{href:`/repartition/pole-lead/${e.poleLead||"Non attribu\xe9"}`,className:"block w-full bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors text-center flex items-center justify-center",children:[(0,r.jsx)("i",{className:"ri-eye-line mr-2"}),"Voir p\xf4le"]})]})]})]})]},e.id))}),{})})]}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[{id:"pole-sante",title:"P\xf4le Sant\xe9",description:"Gestion des offres li\xe9es au secteur de la sant\xe9",icon:"\uD83C\uDFE5",color:"from-red-500 to-pink-500",href:"/repartition/pole-lead/P\xf4le sant\xe9",pole:"P\xf4le sant\xe9"},{id:"pole-wash",title:"P\xf4le Wash",description:"Gestion des offres li\xe9es \xe0 l'eau, assainissement et hygi\xe8ne",icon:"\uD83D\uDCA7",color:"from-blue-500 to-cyan-500",href:"/repartition/pole-lead/P\xf4le Wash",pole:"P\xf4le Wash"},{id:"pole-education",title:"P\xf4le Education",description:"Gestion des offres li\xe9es au secteur \xe9ducatif",icon:"\uD83D\uDCDA",color:"from-green-500 to-emerald-500",href:"/repartition/pole-lead/P\xf4le Education",pole:"P\xf4le Education"},{id:"pole-climat",title:"P\xf4le Climat",description:"Gestion des offres li\xe9es au changement climatique",icon:"\uD83C\uDF0D",color:"from-emerald-500 to-teal-500",href:"/repartition/pole-lead/P\xf4le Climat",pole:"P\xf4le Climat"},{id:"pole-enquetes",title:"P\xf4le Enqu\xeates",description:"Gestion des offres li\xe9es aux \xe9tudes et enqu\xeates",icon:"\uD83D\uDCCA",color:"from-purple-500 to-violet-500",href:"/repartition/pole-lead/P\xf4le Enqu\xeates",pole:"P\xf4le Enqu\xeates"},{id:"pole-modelisation",title:"P\xf4le Mod\xe9lisation",description:"Gestion des offres li\xe9es \xe0 la mod\xe9lisation et simulation",icon:"\uD83D\uDD2C",color:"from-indigo-500 to-blue-500",href:"/repartition/pole-lead/P\xf4le Mod\xe9lisation",pole:"P\xf4le Mod\xe9lisation"},{id:"pole-finances-publiques",title:"P\xf4le Finances Publiques",description:"Gestion des offres li\xe9es aux finances publiques",icon:"\uD83D\uDCB0",color:"from-yellow-500 to-amber-500",href:"/repartition/pole-lead/P\xf4le Finances Publiques",pole:"P\xf4le Finances Publiques"},{id:"pole-decentralisation",title:"P\xf4le D\xe9centralisation",description:"Gestion des offres li\xe9es \xe0 la d\xe9centralisation",icon:"\uD83C\uDFDB️",color:"from-gray-500 to-slate-500",href:"/repartition/pole-lead/P\xf4le D\xe9centralisation",pole:"P\xf4le D\xe9centralisation"},{id:"pole-cohesion-sociale",title:"P\xf4le Coh\xe9sion Sociale",description:"Gestion des offres li\xe9es \xe0 la coh\xe9sion sociale et au d\xe9veloppement communautaire",icon:"\uD83E\uDD1D",color:"from-pink-500 to-rose-500",href:"/repartition/pole-lead/P\xf4le Coh\xe9sion sociale",pole:"P\xf4le Coh\xe9sion sociale"},{id:"pole-anglophone",title:"P\xf4le Anglophone",description:"Gestion des offres pour les pays anglophones",icon:"\uD83C\uDDEC\uD83C\uDDE7",color:"from-red-600 to-red-700",href:"/repartition/pole-lead/P\xf4le Anglophone",pole:"P\xf4le Anglophone"},{id:"pole-sidia",title:"P\xf4le SIDIA",description:"Gestion des offres li\xe9es au SIDIA",icon:"⚙️",color:"from-slate-500 to-gray-500",href:"/repartition/pole-lead/P\xf4le SIDIA",pole:"P\xf4le SIDIA"},{id:"gestion-repartition",title:"Gestion de R\xe9partition",description:"Interface de gestion des r\xe9partitions",icon:"\uD83C\uDFAF",color:"from-violet-500 to-purple-500",href:"/repartition/gestion-repartition"},{id:"vu-repartitions",title:"Vue des R\xe9partitions",description:"Vue d'ensemble des r\xe9partitions",icon:"\uD83D\uDC41️",color:"from-emerald-500 to-teal-500",href:"/repartition/vue-repetitions"}].map(e=>(0,r.jsxs)(a(),{href:e.href,className:`group relative overflow-hidden rounded-2xl shadow-lg border border-gray-200 bg-white hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 ${d===e.id?"ring-2 ring-blue-500 ring-opacity-50":""}`,onMouseEnter:()=>c(e.id),onMouseLeave:()=>c(null),children:[(0,r.jsx)("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} opacity-0 group-hover:opacity-10 transition-opacity duration-300`}),(0,r.jsxs)("div",{className:"relative p-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,r.jsx)("span",{className:"text-2xl",children:e.icon})}),(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors duration-300",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.description}),(0,r.jsx)("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,r.jsx)("i",{className:"ri-arrow-right-line text-blue-600 text-lg"})})]}),(0,r.jsx)("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300`})]},e.id))}),(0,r.jsx)("div",{className:"mt-12 text-center",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6 max-w-2xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-3",children:[(0,r.jsx)("i",{className:"ri-information-line text-blue-600 text-xl"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Information"})]}),(0,r.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Utilisez les filtres ci-dessus pour afficher les offres par p\xf4le LEAD et p\xf4le ASSOCI\xc9S. S\xe9lectionnez un p\xf4le dans la grille pour acc\xe9der aux fonctionnalit\xe9s sp\xe9cifiques de r\xe9partition des offres."})]})})]})]})}s(99316)},80570:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(65239),i=s(48088),a=s(88170),l=s.n(a),o=s(30893),n={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let d={children:["",{children:["repartition",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,81751)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\repartition\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,82366)),"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\repartition\\page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/repartition/page",pathname:"/repartition",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},81751:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\User\\\\Desktop\\\\Projet du pole Informatique\\\\Dossier d\xe9veloppement\\\\BMS 3\\\\BMS_06_08_25\\\\BMS_06_08_25\\\\BMS\\\\frontend\\\\app\\\\repartition\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\Desktop\\Projet du pole Informatique\\Dossier d\xe9veloppement\\BMS 3\\BMS_06_08_25\\BMS_06_08_25\\BMS\\frontend\\app\\repartition\\page.tsx","default")},82646:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(60687),i=s(85814),a=s.n(i);function l({className:e="",variant:t="default",size:s="md"}){let i=`inline-flex items-center gap-2 font-medium transition-all duration-200 hover:scale-105 ${{default:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 shadow-sm hover:shadow-md",outline:"border-2 border-blue-600 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-600 hover:text-white",icon:"bg-blue-100 text-blue-600 p-2 rounded-lg hover:bg-blue-200"}[t]} ${{sm:"text-sm px-3 py-1.5",md:"text-base px-4 py-2",lg:"text-lg px-6 py-3"}[s]} ${e}`;return(0,r.jsxs)(a(),{href:"/",className:i,children:[(0,r.jsx)("i",{className:"ri-home-line"}),"icon"!==t&&(0,r.jsx)("span",{children:"Accueil"})]})}},99316:(e,t,s)=>{"use strict";s.d(t,{H2:()=>c,R2:()=>p,sF:()=>x,dR:()=>u,c9:()=>m});var r=function(e){return e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e.CRITICAL="CRITICAL",e}({});class i{formatMessage(e){let t=new Date(e.timestamp).toLocaleTimeString(),s=e.context?`[${e.context}]`:"",r=`[${e.level}]`,i=`${t} ${r} ${s} ${e.message}`;return e.data&&(i+=` | Data: ${JSON.stringify(e.data)}`),e.error&&(i+=` | Error: ${e.error.message}`,e.error.stack&&(i+=` | Stack: ${e.error.stack}`)),i}addLog(e){if(this.logs.push(e),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(-this.maxLogs)),this.isDevelopment){let t=this.formatMessage(e);switch(e.level){case"DEBUG":console.debug(t);break;case"INFO":console.info(t);break;case"WARN":console.warn(t);break;case"ERROR":case"CRITICAL":console.error(t)}}!this.isDevelopment&&e.level>="ERROR"&&this.sendToMonitoring(e)}async sendToMonitoring(e){}debug(e,t,s){this.addLog({level:"DEBUG",message:e,context:t,data:s,timestamp:new Date().toISOString()})}info(e,t,s){this.addLog({level:"INFO",message:e,context:t,data:s,timestamp:new Date().toISOString()})}warn(e,t,s){this.addLog({level:"WARN",message:e,context:t,data:s,timestamp:new Date().toISOString()})}error(e,t,s,r){this.addLog({level:"ERROR",message:e,error:t,context:s,data:r,timestamp:new Date().toISOString()})}critical(e,t,s,r){this.addLog({level:"CRITICAL",message:e,error:t,context:s,data:r,timestamp:new Date().toISOString()})}apiError(e,t,s,r){this.error(`Erreur API sur ${e}`,t,"API",{endpoint:e,status:s?.status,statusText:s?.statusText,url:s?.url,data:r})}dashboardError(e,t,s,r){this.error(`Erreur Dashboard: ${e}`,t,"Dashboard",{operation:e,filters:s,data:r})}authError(e,t,s){this.error(`Erreur Auth: ${e}`,t,"Auth",s)}getRecentLogs(e,t=50){let s=this.logs;return e&&(s=s.filter(t=>t.level===e)),s.slice(-t)}exportLogs(){return JSON.stringify(this.logs,null,2)}clearLogs(){this.logs=[]}getLogStats(){let e={total:this.logs.length,byLevel:{},recentErrors:this.logs.filter(e=>e.level>="ERROR").slice(-10)};return Object.values(r).forEach(t=>{e.byLevel[t]=this.logs.filter(e=>e.level===t).length}),e}constructor(){this.logs=[],this.maxLogs=1e3,this.isDevelopment=!1}}let a=new i,l=(e,t,s)=>a.info(e,t,s),o=(e,t,s)=>a.warn(e,t,s),n=(e,t,s,r)=>a.error(e,t,s,r),d={BASE_URL:"http://localhost:5000",NODE_ENV:"production",APP_NAME:process.env.NEXT_PUBLIC_APP_NAME||"BMS",APP_VERSION:process.env.NEXT_PUBLIC_APP_VERSION||"1.0.0",REQUEST_TIMEOUT:1e4,MAX_RETRIES:3,RETRY_DELAY:1e3}.BASE_URL;l("Configuration: NEXT_PUBLIC_API_URL=http://localhost:5000","API"),l(`URL de base utilis\xe9e: ${d}`,"API");let c=async(e,t={})=>{let s=`${d}${e}`;l(`Appel vers: ${s}`,"API"),l(`Token pr\xe9sent: NON`,"API");let r={headers:{"Content-Type":"application/json",...t.headers},...t};try{let t;l(`Envoi de la requ\xeate vers: ${s}`,"API");let i=await fetch(s,r);if(l(`R\xe9ponse re\xe7ue: ${i.status} ${i.statusText}`,"API"),l(`Headers de r\xe9ponse: ${JSON.stringify(Object.fromEntries(i.headers.entries()))}`,"API"),!i.ok){let t={};try{t=await i.json()}catch(e){o(`Impossible de parser le body d'erreur: ${e instanceof Error?e.message:String(e)}`,"API"),t={error:`Erreur HTTP ${i.status}: ${i.statusText}`}}if(a.apiError(e,Error(`HTTP ${i.status}: ${i.statusText}`),i,{status:i.status,statusText:i.statusText,url:s,errorData:t,headers:Object.fromEntries(i.headers.entries())}),401===i.status)throw a.authError("Token invalide",Error(t.error||"Token expir\xe9 ou invalide"),t),Error("Token invalide - Redirection vers la connexion");let r=t.error||t.message||`Erreur HTTP ${i.status}: ${i.statusText}`;throw Error(r)}try{t=await i.json(),l(`Succ\xe8s: ${e}`,"API",t)}catch(e){throw n(`Erreur lors du parsing de la r\xe9ponse: ${e instanceof Error?e.message:String(e)}`,e instanceof Error?e:Error(String(e)),"API"),Error(`Erreur lors du parsing de la r\xe9ponse: ${e instanceof Error?e.message:String(e)}`)}return t}catch(r){if(a.apiError(e,r instanceof Error?r:Error(String(r)),void 0,{url:s,timestamp:new Date().toISOString()}),(r instanceof Error?r.message:String(r))==="Token invalide - Redirection vers la connexion")throw r;let t=`Erreur lors de la r\xe9cup\xe9ration des donn\xe9es: ${r instanceof Error?r.message:String(r)}`;throw e.includes("/performance/")&&(t="Impossible de charger les donn\xe9es de performance. V\xe9rifiez votre connexion et r\xe9essayez."),n(`Message d'erreur am\xe9lior\xe9: ${t}`,r instanceof Error?r:Error(String(r)),"API"),Error(t)}},p={login:async e=>c("/api/auth/login",{method:"POST",body:JSON.stringify(e)}),logout:async()=>({success:!0,message:"D\xe9connexion r\xe9ussie"}),register:async e=>c("/api/auth/register",{method:"POST",body:JSON.stringify(e)}),verifyToken:async()=>c("/api/auth/verify")},x={getAll:async()=>c("/api/offres"),create:async e=>c("/api/offres",{method:"POST",body:JSON.stringify(e)}),update:async(e,t)=>c(`/api/offres/${e}`,{method:"PUT",body:JSON.stringify(t)}),delete:async e=>c(`/api/offres/${e}`,{method:"DELETE"}),validate:async(e,t)=>c(`/api/offres/${e}/validate`,{method:"PATCH",body:JSON.stringify(t)})},u={getOverview:async(e,t)=>{let s=e&&t?`?startDate=${e}&endDate=${t}`:"";return c(`/api/performance/overview${s}`)},getPoles:async(e,t)=>{let s=e&&t?`?startDate=${e}&endDate=${t}`:"";return c(`/api/performance/poles${s}`)},getPolesDetailed:async(e,t)=>{let s=e&&t?`?startDate=${e}&endDate=${t}`:"";return c(`/api/performance/poles-detailed${s}`)},getTrends:async()=>c("/api/performance/trends"),getCommerciaux:async(e,t)=>{let s=e&&t?`?startDate=${e}&endDate=${t}`:"";return c(`/api/performance/commerciaux${s}`)},getMetrics:async()=>c("/api/performance/metrics")},m={getAll:async e=>c(`/api/scheduled-searches?userId=${e}`),getOptions:async()=>c("/api/scheduled-searches/options"),create:async e=>c("/api/scheduled-searches",{method:"POST",body:JSON.stringify(e)}),update:async e=>c("/api/scheduled-searches",{method:"PUT",body:JSON.stringify(e)}),delete:async e=>c("/api/scheduled-searches",{method:"DELETE",body:JSON.stringify(e)}),getSavedKeywords:async e=>c(`/api/scheduled-searches/saved-keywords?userId=${e}`),saveKeywords:async e=>c("/api/scheduled-searches/saved-keywords",{method:"POST",body:JSON.stringify(e)}),deleteSavedKeywords:async(e,t)=>c(`/api/scheduled-searches/saved-keywords/${e}`,{method:"DELETE",body:JSON.stringify({userId:t})}),getSearchStats:async e=>{let t=e?`?userId=${e}`:"";return c(`/api/scheduled-searches/search-stats${t}`)}}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[285,418,547,429,538],()=>s(80570));module.exports=r})();