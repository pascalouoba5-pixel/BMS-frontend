"use strict";exports.id=927,exports.ids=[927],exports.modules={46094:(e,t,s)=>{s.d(t,{cj:()=>i,fz:()=>a});var r=s(28625);s(64996),s(11107);var l=s(81446);function i({children:e}){let{userRole:t}=(0,l.A)();return"s_admin"!==t?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full mx-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("i",{className:"ri-shield-cross-line text-2xl text-red-600"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acc\xe8s Refus\xe9"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Cette page est r\xe9serv\xe9e aux super administrateurs uniquement."}),(0,r.jsx)("button",{onClick:()=>window.history.back(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"Retour"})]})})}):(0,r.jsx)(r.Fragment,{children:e})}function a({children:e}){let{userRole:t}=(0,l.A)();return"admin"!==t&&"s_admin"!==t?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full mx-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("i",{className:"ri-shield-cross-line text-2xl text-red-600"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acc\xe8s Refus\xe9"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Cette page est r\xe9serv\xe9e aux administrateurs uniquement."}),(0,r.jsx)("button",{onClick:()=>window.history.back(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"Retour"})]})})}):(0,r.jsx)(r.Fragment,{children:e})}},47403:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(28625),l=s(64996),i=s(87783);let a=({className:e=""})=>{let{alerts:t,isVisible:s,toggleAlerts:a,closeAlert:n}=(0,i.Z)(),[d,o]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{o(!0)},[]),d&&s&&0!==t.length)?(0,r.jsxs)("div",{className:`fixed top-0 left-0 right-0 z-50 ${e}`,children:[(0,r.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,r.jsx)("button",{onClick:a,className:"bg-gray-800 text-white px-3 py-1 rounded-full text-xs hover:bg-gray-700 transition-colors",title:"Masquer les alertes",children:"✕"})}),(0,r.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 text-white p-4 shadow-lg",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-xl",children:"⚠️"}),(0,r.jsxs)("h3",{className:"font-semibold text-lg",children:["Alertes d'\xe9ch\xe9ances (",t.length,")"]})]}),(0,r.jsxs)("div",{className:"text-sm opacity-90",children:["Derni\xe8re mise \xe0 jour : ",new Date().toLocaleTimeString("fr-FR")]})]}),(0,r.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,r.jsxs)("div",{className:`flex items-center justify-between p-3 rounded-lg border-l-4 ${e.isExpired?"bg-red-800 border-red-400 animate-pulse":e.isUrgent?"bg-red-600 border-red-300 animate-pulse":"bg-orange-600 border-orange-300"}`,children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,r.jsx)("span",{className:"font-semibold",children:e.title}),e.isUrgent&&(0,r.jsx)("span",{className:"bg-red-400 text-red-900 px-2 py-1 rounded-full text-xs font-bold",children:"URGENT"}),e.isExpired&&(0,r.jsx)("span",{className:"bg-red-400 text-red-900 px-2 py-1 rounded-full text-xs font-bold",children:"EXPIR\xc9"})]}),(0,r.jsx)("p",{className:"text-sm opacity-90 mb-1",children:e.message}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-xs",children:[(0,r.jsx)("span",{className:"font-mono bg-black/20 px-2 py-1 rounded",children:e.timeRemaining}),e.offreTitle&&(0,r.jsxs)("span",{className:"opacity-75",children:["Offre: ",e.offreTitle]})]})]}),(0,r.jsx)("button",{onClick:()=>n(e.id),className:"ml-4 text-white/80 hover:text-white transition-colors",title:"Fermer cette alerte",children:"✕"})]},e.id))})]})})]}):null}},55006:(e,t,s)=>{s.d(t,{default:()=>a});var r=s(28625),l=s(93948),i=s.n(l);function a({className:e="",variant:t="default",size:s="md"}){let l=`inline-flex items-center gap-2 font-medium transition-all duration-200 hover:scale-105 ${{default:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 shadow-sm hover:shadow-md",outline:"border-2 border-blue-600 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-600 hover:text-white",icon:"bg-blue-100 text-blue-600 p-2 rounded-lg hover:bg-blue-200"}[t]} ${{sm:"text-sm px-3 py-1.5",md:"text-base px-4 py-2",lg:"text-lg px-6 py-3"}[s]} ${e}`;return(0,r.jsxs)(i(),{href:"/",className:l,children:[(0,r.jsx)("i",{className:"ri-home-line"}),"icon"!==t&&(0,r.jsx)("span",{children:"Accueil"})]})}},87783:(e,t,s)=>{s.d(t,{Z:()=>i});var r=s(64996);let l={montageAlertHours:72,depotAlertHours:24,timezone:"UTC"},i=()=>{let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(l),[a,n]=(0,r.useState)(!0),[d,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{o(!0)},[]),(0,r.useEffect)(()=>{if(!d)return;let e=localStorage.getItem("alertSettings");if(e)try{let t=JSON.parse(e);i(t)}catch(e){console.error("Erreur lors du chargement des param\xe8tres d'alerte:",e),i(l),localStorage.setItem("alertSettings",JSON.stringify(l))}else i(l),localStorage.setItem("alertSettings",JSON.stringify(l))},[d]);let c=(0,r.useCallback)(e=>{i(e)},[]),m=(0,r.useCallback)(e=>{let t=new Date,s=e.getTime()-t.getTime();if(s<=0)return"\xc9ch\xe9ance d\xe9pass\xe9e";let r=Math.floor(s/36e5),l=Math.floor(s%36e5/6e4);if(r>24){let e=Math.floor(r/24);return`${e}j ${r%24}h ${l}m`}return`${r}h ${l}m`},[]),x=(0,r.useCallback)((e,t)=>{let s=new Date,r=(e.getTime()-s.getTime())/36e5;return r>0&&r<=t},[]),u=(0,r.useCallback)(e=>{let t=new Date;return e.getTime()<=t.getTime()},[]),f=(0,r.useCallback)(e=>{let t=new Date,s=(e.getTime()-t.getTime())/36e5;return s>0&&s<=2},[]),h=(0,r.useCallback)(()=>{if(d)try{let e=localStorage.getItem("offres");if(!e)return void t([]);let r=JSON.parse(e),l=[];r.forEach(e=>{if(e.delaiTransmissionMontageAdministratif){let t=new Date(e.delaiTransmissionMontageAdministratif);x(t,s.montageAlertHours)&&l.push({id:`montage-${e.id}`,type:f(t)?"error":"warning",title:"Montage Administratif",message:`\xc9ch\xe9ance pour le montage administratif de l'offre "${e.intituleOffre}"`,timeRemaining:m(t),offreId:e.id,offreTitle:e.intituleOffre,isUrgent:f(t),isExpired:u(t)})}if(e.dateDepotPrevu){let t=new Date(e.dateDepotPrevu);x(t,s.depotAlertHours)&&l.push({id:`depot-${e.id}`,type:f(t)?"error":"warning",title:"D\xe9p\xf4t d'Offre",message:`\xc9ch\xe9ance pour le d\xe9p\xf4t de l'offre "${e.intituleOffre}"`,timeRemaining:m(t),offreId:e.id,offreTitle:e.intituleOffre,isUrgent:f(t),isExpired:u(t)})}}),l.sort((e,t)=>e.isUrgent&&!t.isUrgent?-1:!e.isUrgent&&t.isUrgent?1:0),t(l)}catch(e){console.error("Erreur lors de la g\xe9n\xe9ration des alertes:",e),t([])}},[s,m,x,u,f,d]);(0,r.useEffect)(()=>{if(!d)return;h();let e=setInterval(()=>{h()},6e4);return()=>{clearInterval(e)}},[h,d]);let g=(0,r.useCallback)(()=>{n(!a)},[a]);return{alerts:e,settings:s,isVisible:a,saveSettings:c,toggleAlerts:g,closeAlert:(0,r.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),generateAlerts:h}}},96485:(e,t,s)=>{s.d(t,{default:()=>a});var r=s(28625),l=s(40926),i=s(47403);function a({children:e}){return(0,r.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,r.jsx)(l.A,{}),(0,r.jsxs)("main",{className:"flex-1 overflow-auto md:ml-72 transition-all duration-300",children:[(0,r.jsx)(i.A,{}),(0,r.jsx)("div",{className:"min-h-full",children:e})]})]})}}};