"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{346:(e,r,a)=>{a.d(r,{A:()=>n});var t=a(73365),i=a(23927);function n(e){let{className:r="",size:a="md"}=e,{theme:n,toggleTheme:o,isClient:c}=(0,i.D)();return c?(0,t.jsxs)("button",{onClick:o,className:"\n        relative inline-flex items-center justify-center\n        bg-gray-100 dark:bg-gray-800 \n        text-gray-600 dark:text-gray-300\n        hover:bg-gray-200 dark:hover:bg-gray-700\n        border border-gray-300 dark:border-gray-600\n        rounded-full transition-all duration-300 ease-in-out\n        hover:scale-105 active:scale-95\n        focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n        dark:focus:ring-offset-gray-800\n        ".concat(s(a),"\n        ").concat(r,"\n      "),"aria-label":"Basculer vers le th\xe8me ".concat("light"===n?"sombre":"clair"),title:"Basculer vers le th\xe8me ".concat("light"===n?"sombre":"clair"),children:[(0,t.jsx)("div",{className:"\n        absolute inset-0 flex items-center justify-center\n        transition-all duration-300 ease-in-out\n        ".concat("light"===n?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-90 scale-75","\n      "),children:(0,t.jsx)("i",{className:"ri-sun-line text-yellow-500"})}),(0,t.jsx)("div",{className:"\n        absolute inset-0 flex items-center justify-center\n        transition-all duration-300 ease-in-out\n        ".concat("dark"===n?"opacity-100 rotate-0 scale-100":"opacity-0 -rotate-90 scale-75","\n      "),children:(0,t.jsx)("i",{className:"ri-moon-line text-blue-400"})}),(0,t.jsx)("div",{className:"\n        absolute inset-0 rounded-full\n        transition-all duration-300 ease-in-out\n        ".concat("dark"===n?"bg-gradient-to-r from-blue-400 to-purple-500 opacity-20":"bg-gradient-to-r from-yellow-400 to-orange-500 opacity-20","\n      ")})]}):(0,t.jsx)("div",{className:"animate-pulse bg-gray-200 dark:bg-gray-700 rounded-full ".concat(s(a)," ").concat(r)})}function s(e){switch(e){case"sm":return"w-8 h-8 text-sm";case"lg":return"w-12 h-12 text-xl";default:return"w-10 h-10 text-base"}}},23927:(e,r,a)=>{a.d(r,{D:()=>i});var t=a(1521);function i(){let[e,r]=(0,t.useState)("light"),[a,i]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{i(!0)},[]),(0,t.useEffect)(()=>{if(!a)return;let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=e||(t?"dark":"light");r(i),"dark"===i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[a]),{theme:e,isDark:"dark"===e,isLight:"light"===e,toggleTheme:()=>{let a="light"===e?"dark":"light";r(a),localStorage.setItem("theme",a),"dark"===a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setTheme:e=>{r(e),localStorage.setItem("theme",e),"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},isClient:a}}},49458:(e,r,a)=>{a.d(r,{A:()=>l});var t=a(73365),i=a(59534),n=a.n(i),s=a(50627),o=a(1521),c=a(76060),d=a(346);function l(){let e=(0,s.usePathname)(),{isOpen:r,isMobile:a,toggleSidebar:i,closeSidebar:l}=function(){let[e,r]=(0,o.useState)(!1),[a,t]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let a=()=>{let a=window.innerWidth<768;t(a),!a&&e&&r(!1)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[e]),{isOpen:e,isMobile:a,toggleSidebar:()=>{r(!e)},closeSidebar:()=>{r(!1)}}}(),[u,f]=(0,o.useState)([]),[m,h]=(0,o.useState)(""),[g,p]=(0,o.useState)(!1);(0,o.useEffect)(()=>{p(!0),r?document.body.classList.add("sidebar-open"):document.body.classList.remove("sidebar-open")},[r]),(0,o.useEffect)(()=>{g&&x()},[g]);let x=()=>{let e=localStorage.getItem("userRole")||("true"===localStorage.getItem("isSuperAdmin")?"s_admin":"");h(e),e?f((0,c.AR)(e).map(e=>({...e,description:v(e.name)}))):f([{href:"/",name:"Accueil",icon:"ri-home-line",description:"Page d'accueil"},{href:"/performance",name:"Suivi de Performance",icon:"ri-bar-chart-line",description:"Analyse des performances"}])},v=e=>({"Suivi de Performance":"Analyse des performances",Offres:"Gestion des offres","Ajouter une offre":"Cr\xe9er une nouvelle offre","Valider offre":"Validation des offres","Offre du jour":"Offre du jour",RÃ©partition:"R\xe9partition des offres","Gestion des comptes":"Gestion des utilisateurs","Offres valid\xe9es":"Offres approuv\xe9es","Montage administratif":"Gestion administrative","P\xf4le Lead":"Gestion des p\xf4les","Acc\xe8s R\xe9serv\xe9":"Fonctions d'administration avanc\xe9es",Partenariat:"Gestion des partenaires"})[e]||"Page de navigation",b=()=>{a&&l()};return(0,o.useEffect)(()=>{let e=e=>{let a=e.target;!r||a.closest(".sidebar")||a.closest(".sidebar-toggle")||l()};return r&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[r,l]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{className:"sidebar-toggle fixed top-4 left-4 z-50 md:hidden bg-white rounded-lg shadow-lg p-3 border border-gray-200 hover:shadow-xl transition-shadow",onClick:i,children:(0,t.jsx)("i",{className:"ri-".concat(r?"close":"menu","-line text-xl text-gray-700")})}),r&&a&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:l}),(0,t.jsxs)("div",{className:"\n        sidebar\n        ".concat(r?"open":""," \n        ").concat(a?"mobile":"","\n      "),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsx)(n(),{href:"/",onClick:b,children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("img",{src:"https://static.readdy.ai/image/36ce116ccdb0d05752a287dd792317ce/3a2cd734c9129790560cc32a9975e166.jfif",alt:"AMD Logo",className:"h-8 w-auto"}),(0,t.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-white hidden md:block",children:"AMD"})]})}),(0,t.jsx)("button",{className:"md:hidden text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",onClick:l,children:(0,t.jsx)("i",{className:"ri-close-line text-xl"})})]}),(0,t.jsx)("nav",{className:"flex-1 overflow-y-auto py-4",children:(0,t.jsx)("div",{className:"px-4 space-y-2",children:u.map(r=>{let a=e===r.href;return(0,t.jsxs)(n(),{href:r.href,onClick:b,className:"\n                    group flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200\n                    ".concat(a?"bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 border-r-2 border-blue-600 dark:border-blue-400 shadow-sm":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white hover:shadow-sm","\n                  "),children:[(0,t.jsx)("div",{className:"\n                    flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-lg transition-colors\n                    ".concat(a?"bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 group-hover:bg-gray-200 dark:group-hover:bg-gray-600 group-hover:text-gray-700 dark:group-hover:text-gray-300","\n                  "),children:(0,t.jsx)("i",{className:"".concat(r.icon," text-sm")})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:r.name}),r.description&&(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 hidden md:block",children:r.description})]}),a&&(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full"})})]},r.href)})})}),(0,t.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:(0,t.jsx)("i",{className:"ri-user-line text-blue-600 dark:text-blue-400"})}),(0,t.jsx)("div",{className:"flex-1 min-w-0 hidden md:block",children:g?(()=>{try{let e=localStorage.getItem("user");if(e){let r=JSON.parse(e),a=r.sexe,i=r.prenom||r.name||"",n=r.nom||"",s="".concat("Mr"===a?"M.":"Mme"===a?"Mme":""," ").concat(i," ").concat(n).trim();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s||"Utilisateur"}),(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Connect\xe9"})]})}}catch(e){console.warn("Erreur lors de la lecture des donn\xe9es utilisateur:",e)}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Utilisateur"}),(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Connect\xe9"})]})})():(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Utilisateur"}),(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Chargement..."})]})})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(d.A,{size:"sm"})})]})]})]})}},76060:(e,r,a)=>{a.d(r,{AR:()=>s,YD:()=>i});let t={s_admin:[{resource:"performance",actions:["read","write"]},{resource:"offres",actions:["read","write","delete","approve"]},{resource:"ajouter-offre",actions:["read","write"]},{resource:"valider-offre",actions:["read","write","approve","reject"]},{resource:"offre-du-jour",actions:["read","write"]},{resource:"repartition",actions:["read","write","manage"]},{resource:"gestion-repartition",actions:["read","write","manage"]},{resource:"gestion-comptes",actions:["read","write","delete","manage"]},{resource:"offres-validees",actions:["read","write"]},{resource:"montage-administratif",actions:["read","write","manage"]},{resource:"pole-lead",actions:["read","write","manage"]},{resource:"vue-repetitions",actions:["read","write"]},{resource:"inscription",actions:["read","write"]},{resource:"recherche-automatique",actions:["read","write"]},{resource:"acces-reserve",actions:["read","write","manage"]},{resource:"suivi-resultats",actions:["read","write","manage"]}],admin:[{resource:"performance",actions:["read"]},{resource:"offres",actions:["read","write","approve"]},{resource:"ajouter-offre",actions:["read","write"]},{resource:"offre-du-jour",actions:["read","write"]},{resource:"repartition",actions:["read","write"]},{resource:"gestion-repartition",actions:["read","write","manage"]},{resource:"gestion-comptes",actions:["read","write"]},{resource:"offres-validees",actions:["read","write"]},{resource:"vue-repetitions",actions:["read","write"]},{resource:"inscription",actions:["read","write"]},{resource:"recherche-automatique",actions:["read","write"]},{resource:"acces-reserve",actions:["read","write","manage"]},{resource:"suivi-resultats",actions:["read"]}],charge_ajout_offre:[{resource:"performance",actions:["read"]},{resource:"offres",actions:["read","write"]},{resource:"ajouter-offre",actions:["read","write"]},{resource:"offre-du-jour",actions:["read"]},{resource:"repartition",actions:["read"]},{resource:"vue-repetitions",actions:["read"]},{resource:"recherche-automatique",actions:["read","write"]},{resource:"suivi-resultats",actions:["read"]}],cma:[{resource:"performance",actions:["read"]},{resource:"offres",actions:["read"]},{resource:"offre-du-jour",actions:["read"]},{resource:"repartition",actions:["read"]},{resource:"pole-lead",actions:["read","write"]},{resource:"vue-repetitions",actions:["read"]},{resource:"recherche-automatique",actions:["read","write"]},{resource:"suivi-resultats",actions:["read","write"]}],cmt:[{resource:"performance",actions:["read"]},{resource:"offres",actions:["read"]},{resource:"offre-du-jour",actions:["read"]},{resource:"repartition",actions:["read"]},{resource:"pole-lead",actions:["read","write"]},{resource:"vue-repetitions",actions:["read"]},{resource:"recherche-automatique",actions:["read","write"]},{resource:"suivi-resultats",actions:["read"]}],charge_partenariat:[{resource:"performance",actions:["read"]},{resource:"partenariat",actions:["read","write","delete","manage"]},{resource:"recherche-automatique",actions:["read"]}]};function i(e,r){if("s_admin"===e||["performance","offres","ajouter-offre","offre-du-jour","repartition","vue-repetitions","recherche-automatique","suivi-resultats"].includes(r))return!0;let a={"valider-offre":["s_admin"],"gestion-repartition":["admin"],"gestion-comptes":["admin","s_admin"],inscription:["admin","s_admin"],"pole-lead":["cma","cmt"],"acces-reserve":["admin","s_admin"],partenariat:["s_admin","admin","charge_partenariat"]};if(a[r])return a[r].includes(e);var i="read";if("s_admin"===e)return!0;let n=t[e];if(!n)return!!["performance","offres","ajouter-offre","offre-du-jour","repartition","vue-repetitions"].includes(r);let s=n.find(e=>e.resource===r);return s?s.actions.includes(i)||s.actions.includes("*"):!!["performance","offres","ajouter-offre","offre-du-jour","repartition","vue-repetitions"].includes(r)}let n={s_admin:[{name:"Dashboard",href:"/performance",icon:"ri-dashboard-line"},{name:"Offres",href:"/offres",icon:"ri-briefcase-line"},{name:"Nouvelle offre",href:"/ajouter-offre",icon:"ri-add-line"},{name:"Valider offre",href:"/valider-offre",icon:"ri-check-line"},{name:"Offre du jour",href:"/offre-du-jour",icon:"ri-calendar-line"},{name:"R\xe9partition",href:"/repartition",icon:"ri-share-line"},{name:"Gestion de r\xe9partition",href:"/repartition/gestion-repartition",icon:"ri-settings-line"},{name:"Gestion des comptes",href:"/gestion-comptes",icon:"ri-user-settings-line"},{name:"Offres valid\xe9es",href:"/offres-validees",icon:"ri-check-double-line"},{name:"Montage administratif",href:"/montage-administratif",icon:"ri-file-list-line"},{name:"P\xf4le Lead",href:"/repartition/pole-lead",icon:"ri-team-line"},{name:"Vue des r\xe9partitions",href:"/repartition/vue-repetitions",icon:"ri-eye-line"},{name:"Recherche Automatique",href:"/recherche-automatique",icon:"ri-search-eye-line"},{name:"Suivi des r\xe9sultats",href:"/suivi-resultats",icon:"ri-bar-chart-line"},{name:"Acc\xe8s R\xe9serv\xe9",href:"/acces-reserve",icon:"ri-shield-keyhole-line"}],admin:[{name:"Dashboard",href:"/performance",icon:"ri-dashboard-line"},{name:"Offres",href:"/offres",icon:"ri-briefcase-line"},{name:"Nouvelle offre",href:"/ajouter-offre",icon:"ri-add-line"},{name:"Offre du jour",href:"/offre-du-jour",icon:"ri-calendar-line"},{name:"R\xe9partition",href:"/repartition",icon:"ri-share-line"},{name:"Gestion de r\xe9partition",href:"/repartition/gestion-repartition",icon:"ri-settings-line"},{name:"Gestion des comptes",href:"/gestion-comptes",icon:"ri-user-settings-line"},{name:"Offres valid\xe9es",href:"/offres-validees",icon:"ri-check-double-line"},{name:"Vue des r\xe9partitions",href:"/repartition/vue-repetitions",icon:"ri-eye-line"},{name:"Recherche Automatique",href:"/recherche-automatique",icon:"ri-search-eye-line"},{name:"Suivi des r\xe9sultats",href:"/suivi-resultats",icon:"ri-bar-chart-line"},{name:"Acc\xe8s R\xe9serv\xe9",href:"/acces-reserve",icon:"ri-shield-keyhole-line"},{name:"Partenariat",href:"/partenariat",icon:"ri-handshake-line"}],charge_ajout_offre:[{name:"Dashboard",href:"/performance",icon:"ri-dashboard-line"},{name:"Offres",href:"/offres",icon:"ri-briefcase-line"},{name:"Nouvelle offre",href:"/ajouter-offre",icon:"ri-add-line"},{name:"Offre du jour",href:"/offre-du-jour",icon:"ri-calendar-line"},{name:"R\xe9partition",href:"/repartition",icon:"ri-share-line"},{name:"Vue des r\xe9partitions",href:"/repartition/vue-repetitions",icon:"ri-eye-line"},{name:"Recherche Automatique",href:"/recherche-automatique",icon:"ri-search-eye-line"},{name:"Suivi des r\xe9sultats",href:"/suivi-resultats",icon:"ri-bar-chart-line"}],charge_partenariat:[{name:"Dashboard",href:"/performance",icon:"ri-dashboard-line"},{name:"Partenariat",href:"/partenariat",icon:"ri-handshake-line"},{name:"Recherche Automatique",href:"/recherche-automatique",icon:"ri-search-eye-line"}],cma:[{name:"Dashboard",href:"/performance",icon:"ri-dashboard-line"},{name:"Offres",href:"/offres",icon:"ri-briefcase-line"},{name:"Offre du jour",href:"/offre-du-jour",icon:"ri-calendar-line"},{name:"R\xe9partition",href:"/repartition",icon:"ri-share-line"},{name:"P\xf4le Lead",href:"/repartition/pole-lead",icon:"ri-team-line"},{name:"Vue des r\xe9partitions",href:"/repartition/vue-repetitions",icon:"ri-eye-line"},{name:"Recherche Automatique",href:"/recherche-automatique",icon:"ri-search-eye-line"},{name:"Suivi des r\xe9sultats",href:"/suivi-resultats",icon:"ri-bar-chart-line"}],cmt:[{name:"Dashboard",href:"/performance",icon:"ri-dashboard-line"},{name:"Offres",href:"/offres",icon:"ri-briefcase-line"},{name:"Offre du jour",href:"/offre-du-jour",icon:"ri-calendar-line"},{name:"R\xe9partition",href:"/repartition",icon:"ri-share-line"},{name:"P\xf4le Lead",href:"/repartition/pole-lead",icon:"ri-team-line"},{name:"Vue des r\xe9partitions",href:"/repartition/vue-repetitions",icon:"ri-eye-line"},{name:"Recherche Automatique",href:"/recherche-automatique",icon:"ri-search-eye-line"},{name:"Suivi des r\xe9sultats",href:"/suivi-resultats",icon:"ri-bar-chart-line"}]};function s(e){return n[e]||[]}}}]);