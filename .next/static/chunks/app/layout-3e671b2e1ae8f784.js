(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{21332:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(1521);let o=()=>{let[e,t]=(0,r.useState)({token:null,user:null,isAuthenticated:!1,userRole:null});(0,r.useEffect)(()=>{let e=localStorage.getItem("token"),s=localStorage.getItem("user");if(e&&s){let r=JSON.parse(s);t({token:e,user:r,isAuthenticated:!0,userRole:r.role||null})}},[]);let s=(0,r.useCallback)((e,s)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(s)),t({token:e,user:s,isAuthenticated:!0,userRole:s.role||null})},[]),o=(0,r.useCallback)(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t({token:null,user:null,isAuthenticated:!1,userRole:null})},[]),i=(0,r.useCallback)(e=>{localStorage.setItem("token",e),t(t=>({...t,token:e}))},[]);return{...e,login:s,logout:o,updateToken:i}}},23927:(e,t,s)=>{"use strict";s.d(t,{D:()=>o});var r=s(1521);function o(){let[e,t]=(0,r.useState)("light"),[s,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{o(!0)},[]),(0,r.useEffect)(()=>{if(!s)return;let e=localStorage.getItem("theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches,o=e||(r?"dark":"light");t(o),"dark"===o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s]),{theme:e,isDark:"dark"===e,isLight:"light"===e,toggleTheme:()=>{let s="light"===e?"dark":"light";t(s),localStorage.setItem("theme",s),"dark"===s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setTheme:e=>{t(e),localStorage.setItem("theme",e),"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},isClient:s}}},37002:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(73365),o=s(1521),i=s(21332);function a(){let[e,t]=(0,o.useState)(!1),[s,a]=(0,o.useState)([]),[n,l]=(0,o.useState)(""),[u,c]=(0,o.useState)(!1),[m,d]=(0,o.useState)(!1),[f,h]=(0,o.useState)(!1),p=(0,o.useRef)(null),g=(0,o.useRef)(null),{userRole:v}=(0,i.A)();(0,o.useEffect)(()=>{h(!0)},[]);let x=["Comment \xe7a marche ?","Quelles sont mes permissions ?","Comment ajouter une offre ?","Comment valider une offre ?","Qu'est-ce que le dashboard ?","Comment fonctionne la r\xe9partition ?","Quelles sont les modalit\xe9s des p\xf4les ?","Comment configurer les alertes ?","Comment utiliser la recherche automatique ?","Qu'est-ce que les recommandations ?"],b=()=>{try{let e=localStorage.getItem("user");if(e){let t=JSON.parse(e),s=t.sexe,r=t.prenom||t.name||"",o=t.nom||"";return"".concat("Mr"===s?"M.":"Mme"===s?"Mme":""," ").concat(r," ").concat(o).trim()||"Utilisateur"}}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es utilisateur:",e)}return"Utilisateur"},j=()=>{let e=b(),t={s_admin:"Bienvenue ".concat(e," ! Je suis l'assistant BMS. En tant que Super Administrateur, vous avez acc\xe8s \xe0 toutes les fonctionnalit\xe9s. Comment puis-je vous aider ?"),admin:"Bienvenue ".concat(e," ! Je suis l'assistant BMS. En tant qu'administrateur, vous pouvez g\xe9rer les utilisateurs et valider les offres. Comment puis-je vous aider ?"),charge_ajout_offre:"Bienvenue ".concat(e," ! Je suis l'assistant BMS. Vous pouvez ajouter et g\xe9rer les nouvelles offres. Comment puis-je vous aider ?"),cma:"Bienvenue ".concat(e," ! Je suis l'assistant BMS. Vous \xeates charg\xe9 du montage administratif. Comment puis-je vous aider ?"),cmt:"Bienvenue ".concat(e," ! Je suis l'assistant BMS. Vous \xeates charg\xe9 du montage technique. Comment puis-je vous aider ?"),default:"Bienvenue ".concat(e," ! Je suis l'assistant BMS. Comment puis-je vous aider avec l'utilisation de l'application ?")};return t[v]||t.default},y={"comment \xe7a marche":{text:"BMS est un syst\xe8me de gestion des offres commerciales. Voici les principales fonctionnalit\xe9s :",type:"list",list:["Dashboard : Vue d'ensemble de toutes les offres","Nouvelle offre : Ajouter une nouvelle opportunit\xe9","R\xe9partition : Assigner les offres aux p\xf4les","Offre du jour : Offres soumises aujourd'hui","Validation : Approuver ou rejeter les offres","Recherche automatique : Trouver des opportunit\xe9s en ligne","Recommandations : Suggestions personnalis\xe9es d'offres"],suggestions:["Quelles sont mes permissions ?","Comment ajouter une offre ?","Comment utiliser la recherche automatique ?"]},fonctionnalités:{text:"Voici les principales fonctionnalit\xe9s de BMS :",type:"list",list:["Gestion compl\xe8te des offres commerciales","Validation automatis\xe9e des opportunit\xe9s","R\xe9partition par p\xf4les sp\xe9cialis\xe9s","Tableau de bord avec analytics","Gestion multi-r\xf4les et permissions","Suivi en temps r\xe9el des statuts","Syst\xe8me d'alertes et notifications","Recherche automatique d'opportunit\xe9s","Syst\xe8me de recommandations intelligentes","Interface intuitive et responsive"],suggestions:["Comment ajouter une offre ?","Comment utiliser la recherche automatique ?","Qu'est-ce que les recommandations ?"]},permissions:{text:"Vos permissions d\xe9pendent de votre r\xf4le dans le syst\xe8me :",type:"list",list:["Super Admin : Acc\xe8s complet \xe0 toutes les fonctionnalit\xe9s","Admin : Gestion des utilisateurs et validation des offres","Charg\xe9 d'ajout d'offre : Cr\xe9ation et modification d'offres","CMA (Charg\xe9 Montage Administratif) : Gestion administrative","CMT (Charg\xe9 Montage Technique) : Gestion technique"],suggestions:["Comment ajouter une offre ?","Comment valider une offre ?","Qu'est-ce que le dashboard ?"]},"ajouter offre":{text:"Pour ajouter une nouvelle offre :",type:"list",list:["Allez dans la section 'Ajouter une offre'","Remplissez tous les champs obligatoires","S\xe9lectionnez le p\xf4le responsable","D\xe9finissez les \xe9ch\xe9ances importantes","Sauvegardez l'offre"],suggestions:["Comment valider une offre ?","Comment fonctionne la r\xe9partition ?","Qu'est-ce que le dashboard ?"]},"valider offre":{text:"Pour valider une offre :",type:"list",list:["Acc\xe9dez \xe0 la section 'Valider les offres'","Consultez les offres en attente de validation","V\xe9rifiez tous les documents et informations","Approuvez ou rejetez l'offre","Ajoutez des commentaires si n\xe9cessaire"],suggestions:["Comment ajouter une offre ?","Qu'est-ce que le dashboard ?","Comment fonctionne la r\xe9partition ?"]},dashboard:{text:"Le dashboard vous offre :",type:"list",list:["Vue d'ensemble de toutes les offres","Statistiques en temps r\xe9el","Graphiques de performance","Alertes et notifications","Acc\xe8s rapide aux fonctionnalit\xe9s"],suggestions:["Comment ajouter une offre ?","Comment valider une offre ?","Comment fonctionne la r\xe9partition ?"]},repartition:{text:"La r\xe9partition des offres :",type:"list",list:["Assignation automatique selon les crit\xe8res","Gestion par p\xf4les sp\xe9cialis\xe9s","Suivi des charges de travail","R\xe9partition \xe9quitable des opportunit\xe9s","Interface de gestion intuitive"],suggestions:["Comment ajouter une offre ?","Comment valider une offre ?","Qu'est-ce que le dashboard ?"]},"modalit\xe9s p\xf4les":{text:"Les modalit\xe9s des p\xf4les incluent :",type:"list",list:["Sp\xe9cialisation par domaine d'expertise","Processus de validation sp\xe9cifiques","Gestion des \xe9ch\xe9ances","Coordination inter-p\xf4les","Reporting et suivi"],suggestions:["Comment fonctionne la r\xe9partition ?","Comment ajouter une offre ?","Comment valider une offre ?"]},alertes:{text:"Le syst\xe8me d'alertes :",type:"list",list:["Notifications d'\xe9ch\xe9ances","Alertes de validation en attente","Rappels automatiques","Personnalisation des param\xe8tres","Int\xe9gration avec le workflow"],suggestions:["Comment configurer les alertes ?","Comment ajouter une offre ?","Qu'est-ce que le dashboard ?"]},"recherche automatique":{text:"La recherche automatique d'opportunit\xe9s :",type:"list",list:["Recherche en temps r\xe9el par mots-cl\xe9s","Int\xe9gration Google/Bing Search APIs","Web scraping de sites sp\xe9cialis\xe9s","Recherches programm\xe9es (quotidienne/hebdomadaire/mensuelle)","Syst\xe8me de recommandations personnalis\xe9es","Validation et suivi des offres trouv\xe9es","Historique complet des recherches","Scores de similarit\xe9 intelligents"],suggestions:["Comment utiliser la recherche automatique ?","Qu'est-ce que les recommandations ?","Comment valider une offre ?"]},recommandations:{text:"Le syst\xe8me de recommandations :",type:"list",list:["Analyse de vos validations pr\xe9c\xe9dentes","Calcul de similarit\xe9 entre offres","Scores de pertinence personnalis\xe9s","Apprentissage automatique des pr\xe9f\xe9rences","Suggestions bas\xe9es sur l'historique","Filtrage intelligent des r\xe9sultats"],suggestions:["Comment utiliser la recherche automatique ?","Comment valider une offre ?","Qu'est-ce que le dashboard ?"]},"recherche programm\xe9e":{text:"Les recherches programm\xe9es permettent de :",type:"list",list:["Automatiser les recherches quotidiennes","Planifier des recherches hebdomadaires","Configurer des recherches mensuelles","Recevoir des notifications automatiques","Suivre les nouvelles opportunit\xe9s","Gagner du temps sur la veille"],suggestions:["Comment utiliser la recherche automatique ?","Qu'est-ce que les recommandations ?","Comment configurer les alertes ?"]}},k=e=>{let t=e.toLowerCase().trim();for(let[e,s]of Object.entries(y))if(t.includes(e))return s;for(let[e,s]of Object.entries({permission:"permissions",role:"permissions",fonction:"fonctionnalit\xe9s",ajouter:"ajouter offre",créer:"ajouter offre",nouvelle:"ajouter offre",valider:"valider offre",approuver:"valider offre",dashboard:"dashboard",tableau:"dashboard",répartition:"repartition",pôle:"modalit\xe9s p\xf4les",poles:"modalit\xe9s p\xf4les",alerte:"alertes",notification:"alertes",recherche:"recherche automatique",automatique:"recherche automatique",recommandation:"recommandations",suggestion:"recommandations",programmée:"recherche programm\xe9e",planifiée:"recherche programm\xe9e"}))if(t.includes(e))return y[s];return{text:"Je ne comprends pas votre question. Pouvez-vous reformuler ou choisir une suggestion ci-dessous ?",type:"text",suggestions:x.slice(0,4)}},C=()=>Math.random().toString(36).substr(2,9),S=()=>{var e;null==(e=p.current)||e.scrollIntoView({behavior:"smooth"})},N=(0,o.useCallback)(async e=>{if(!e.trim())return;let t={id:C(),text:e.trim(),isUser:!0,timestamp:new Date};a(e=>[...e,t]),l(""),c(!0),setTimeout(()=>{let t=k(e),s={id:C(),text:t.text,isUser:!1,timestamp:new Date,type:t.type,links:t.links,list:t.list,suggestions:t.suggestions};a(e=>[...e,s]),c(!1),d(!0)},1e3)},[]),q=e=>{N(e)},w=e=>{N(e)};return((0,o.useEffect)(()=>{S()},[s]),(0,o.useEffect)(()=>{f&&0===s.length&&a([{id:C(),text:j(),isUser:!1,timestamp:new Date,suggestions:x.slice(0,4)}])},[f,v]),f)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>t(!e),className:"fixed bottom-4 right-4 z-50 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-lg transition-all duration-300 hover:scale-110",title:"Assistant BMS",children:e?(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e&&(0,r.jsxs)("div",{className:"fixed bottom-20 right-4 z-50 w-96 h-[600px] bg-white rounded-lg shadow-2xl border border-gray-200 flex flex-col",children:[(0,r.jsx)("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,r.jsx)("h3",{className:"font-semibold",children:"Assistant BMS"})]}),(0,r.jsx)("button",{onClick:()=>{a([]),d(!1)},className:"text-white/80 hover:text-white transition-colors",title:"Nouvelle conversation",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.map(e=>(0,r.jsx)("div",{className:"flex ".concat(e.isUser?"justify-end":"justify-start"),children:(0,r.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat(e.isUser?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"),children:[(0,r.jsx)("p",{className:"text-sm",children:e.text}),e.list&&(0,r.jsx)("ul",{className:"mt-2 space-y-1",children:e.list.map((e,t)=>(0,r.jsxs)("li",{className:"text-sm flex items-start",children:[(0,r.jsx)("span",{className:"mr-2",children:"•"}),(0,r.jsx)("span",{children:e})]},t))}),e.links&&(0,r.jsx)("div",{className:"mt-2 space-y-1",children:e.links.map((e,t)=>(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700 underline block text-sm",children:e.text},t))}),e.suggestions&&(0,r.jsx)("div",{className:"mt-3 space-y-2",children:e.suggestions.map((e,t)=>(0,r.jsx)("button",{onClick:()=>q(e),className:"block w-full text-left px-3 py-2 text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 rounded transition-colors",children:e},t))})]})},e.id)),u&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsx)("div",{className:"bg-gray-100 text-gray-800 px-4 py-2 rounded-lg",children:(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),(0,r.jsx)("div",{ref:p})]}),m&&s.length>1&&(0,r.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,r.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Suggestions rapides :"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:x.slice(0,4).map((e,t)=>(0,r.jsx)("button",{onClick:()=>w(e),className:"px-3 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-800 rounded-full transition-colors",children:e},t))})]}),(0,r.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),N(n)},className:"flex space-x-2",children:[(0,r.jsx)("input",{ref:g,type:"text",value:n,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),N(n))},placeholder:"Tapez votre question...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:u}),(0,r.jsx)("button",{type:"submit",disabled:!n.trim()||u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})]}):null}function n(e){let{children:t}=e;return(0,r.jsxs)(r.Fragment,{children:[t,(0,r.jsx)(a,{})]})}},41979:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_5cfdac",variable:"__variable_5cfdac"}},55377:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(73365),o=s(1521),i=s(23927);let a=(0,o.createContext)(void 0);function n(e){let{children:t}=e,[s,n]=(0,o.useState)(!1),l=(0,i.D)();return((0,o.useEffect)(()=>{n(!0)},[]),s)?(0,r.jsx)(a.Provider,{value:l,children:(0,r.jsx)("div",{className:"min-h-screen transition-colors duration-300 ".concat(l.isDark?"dark":""),children:t})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:t})}},64903:e=>{e.exports={style:{fontFamily:"'Pacifico', 'Pacifico Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_5f64cf",variable:"__variable_5f64cf"}},74270:()=>{},84033:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},97719:(e,t,s)=>{Promise.resolve().then(s.bind(s,37002)),Promise.resolve().then(s.bind(s,55377)),Promise.resolve().then(s.t.bind(s,64903,23)),Promise.resolve().then(s.t.bind(s,41979,23)),Promise.resolve().then(s.t.bind(s,84033,23)),Promise.resolve().then(s.t.bind(s,74270,23))}},e=>{var t=t=>e(e.s=t);e.O(0,[422,347,870,358],()=>t(97719)),_N_E=e.O()}]);