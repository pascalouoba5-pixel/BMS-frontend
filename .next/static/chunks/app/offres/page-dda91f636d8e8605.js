(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[66],{3452:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(73365),l=s(1521),a=s(59534),i=s.n(a),n=s(63925),d=s(150),c=s(42770),o=s(84857),x=s(15368);function m(e){let{className:t="",selectedPeriod:s="all",selectedPoleLead:a="all",customStartDate:i="",customEndDate:n=""}=e,[d,c]=(0,l.useState)([]),[o,x]=(0,l.useState)(!0),[m,u]=(0,l.useState)("");(0,l.useEffect)(()=>{h();let e=e=>{"offres"===e.key&&h()};window.addEventListener("storage",e);let t=setInterval(h,3e4);return()=>{window.removeEventListener("storage",e),clearInterval(t)}},[s,a,i,n]);let h=()=>{try{u("");let e=localStorage.getItem("offres"),t=e?JSON.parse(e):[];if("all"!==s){let e=new Date,r=new Date;switch(s){case"week":r.setDate(e.getDate()-7);break;case"month":r.setMonth(e.getMonth()-1);break;case"quarter":r.setMonth(e.getMonth()-3);break;case"year":r.setFullYear(e.getFullYear()-1);break;case"custom":if(i&&n){let e=new Date(i),s=new Date(n);s.setHours(23,59,59,999),t=t.filter(t=>{let r=t.dateDepot?new Date(t.dateDepot):new Date;return r>=e&&r<=s})}}"custom"!==s&&(t=t.filter(e=>(e.dateDepot?new Date(e.dateDepot):new Date)>=r))}"all"!==a&&(t=t.filter(e=>e.poleLead===a));let r=new Map;t.forEach(e=>{let t=e.offreTrouveePar||"Non sp\xe9cifi\xe9",s=e.typeOffre||"Non sp\xe9cifi\xe9",l=e.statut||"en_attente";r.has(t)||r.set(t,{personne:t,total:0,AO:0,AMI:0,"Avis G\xe9n\xe9ral":0,approuvees:0,rejetees:0,enAttente:0});let a=r.get(t);a.total++;let i=s.toLowerCase().trim();switch("ao"===i||"appel d'offres"===i?a.AO++:"ami"===i||"appel \xe0 manifestation d'int\xe9r\xeat"===i?a.AMI++:"avis g\xe9n\xe9ral"===i||"avis general"===i?a["Avis G\xe9n\xe9ral"]++:"AO"===s?a.AO++:"AMI"===s?a.AMI++:"Avis G\xe9n\xe9ral"===s&&a["Avis G\xe9n\xe9ral"]++,l){case"approuv\xe9e":a.approuvees++;break;case"rejet\xe9e":a.rejetees++;break;case"en_attente":case"brouillon":a.enAttente++}});let l=Array.from(r.values()).sort((e,t)=>t.total-e.total);c(l),x(!1)}catch(e){console.error("Erreur lors du calcul des statistiques:",e),u("Erreur lors du calcul des statistiques"),x(!1)}};return o?(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6 ".concat(t),children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,r.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded"},t))})]})}):m?(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-red-100 p-6 ".concat(t),children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("i",{className:"ri-error-warning-line text-red-600 mr-3 text-2xl"}),(0,r.jsx)("p",{className:"text-red-800",children:m})]})}):0===d.length?(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-8 ".concat(t),children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("i",{className:"ri-bar-chart-line text-2xl text-blue-600"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune donn\xe9e disponible"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Il n'y a pas encore d'offres enregistr\xe9es pour afficher les statistiques."})]})}):(0,r.jsxs)("div",{className:"space-y-8 ".concat(t),children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 overflow-hidden",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,r.jsx)("i",{className:"ri-bar-chart-line text-blue-600 mr-2"}),"Statistiques par Type d'Offre"]}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"R\xe9partition des offres par type et par personne"})]}),(0,r.jsxs)("button",{onClick:h,disabled:o,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-refresh-line ".concat(o?"animate-spin":"")}),"Rafra\xeechir"]})]})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-blue-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Personne"}),(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Total"}),(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-blue-700 uppercase tracking-wider",children:"AO"}),(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-blue-700 uppercase tracking-wider",children:"AMI"}),(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Avis G\xe9n\xe9ral"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:(0,r.jsx)("i",{className:"ri-user-line text-blue-600"})}),(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.personne})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:e.total})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:e.AO})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-orange-100 text-orange-800",children:e.AMI})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:e["Avis G\xe9n\xe9ral"]})})]},e.personne))}),(0,r.jsx)("tfoot",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{className:"font-semibold",children:[(0,r.jsx)("td",{className:"px-6 py-3 text-left text-sm font-medium text-gray-900",children:"Total"}),(0,r.jsx)("td",{className:"px-6 py-3 text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-200 text-blue-900",children:d.reduce((e,t)=>e+t.total,0)})}),(0,r.jsx)("td",{className:"px-6 py-3 text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-200 text-green-900",children:d.reduce((e,t)=>e+t.AO,0)})}),(0,r.jsx)("td",{className:"px-6 py-3 text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-orange-200 text-orange-900",children:d.reduce((e,t)=>e+t.AMI,0)})}),(0,r.jsx)("td",{className:"px-6 py-3 text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-200 text-purple-900",children:d.reduce((e,t)=>e+t["Avis G\xe9n\xe9ral"],0)})})]})})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 overflow-hidden",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,r.jsx)("i",{className:"ri-pie-chart-line text-blue-600 mr-2"}),"Statistiques par Statut"]}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"R\xe9partition des offres par statut et par personne"})]}),(0,r.jsxs)("button",{onClick:h,disabled:o,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-refresh-line ".concat(o?"animate-spin":"")}),"Rafra\xeechir"]})]})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-blue-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Personne"}),(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Total"}),(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Approuv\xe9es"}),(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Rejet\xe9es"}),(0,r.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-blue-700 uppercase tracking-wider",children:"En Attente"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:(0,r.jsx)("i",{className:"ri-user-line text-blue-600"})}),(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.personne})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:e.total})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:e.approuvees})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:e.rejetees})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:e.enAttente})})]},e.personne))}),(0,r.jsx)("tfoot",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{className:"font-semibold",children:[(0,r.jsx)("td",{className:"px-6 py-3 text-left text-sm font-medium text-gray-900",children:"Total"}),(0,r.jsx)("td",{className:"px-6 py-3 text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-200 text-blue-900",children:d.reduce((e,t)=>e+t.total,0)})}),(0,r.jsx)("td",{className:"px-6 py-3 text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-200 text-green-900",children:d.reduce((e,t)=>e+t.approuvees,0)})}),(0,r.jsx)("td",{className:"px-6 py-3 text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-200 text-red-900",children:d.reduce((e,t)=>e+t.rejetees,0)})}),(0,r.jsx)("td",{className:"px-6 py-3 text-center",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-200 text-yellow-900",children:d.reduce((e,t)=>e+t.enAttente,0)})})]})})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center mb-4",children:[(0,r.jsx)("i",{className:"ri-dashboard-line text-blue-600 mr-2"}),"R\xe9sum\xe9 Global"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsx)("div",{className:"bg-blue-50 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:(0,r.jsx)("i",{className:"ri-file-list-line text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Offres"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d.reduce((e,t)=>e+t.total,0)})]})]})}),(0,r.jsx)("div",{className:"bg-green-50 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:(0,r.jsx)("i",{className:"ri-check-line text-green-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Approuv\xe9es"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d.reduce((e,t)=>e+t.approuvees,0)})]})]})}),(0,r.jsx)("div",{className:"bg-red-50 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:(0,r.jsx)("i",{className:"ri-close-line text-red-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Rejet\xe9es"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d.reduce((e,t)=>e+t.rejetees,0)})]})]})}),(0,r.jsx)("div",{className:"bg-yellow-50 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center mr-3",children:(0,r.jsx)("i",{className:"ri-time-line text-yellow-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"En Attente"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d.reduce((e,t)=>e+t.enAttente,0)})]})]})})]})]})]})}function u(e){let{selectedStatus:t,onStatusChange:s,statusCounts:l,title:a="Filtrer par statut"}=e,i=e=>{switch(e){case"approuv\xe9e":return l.approuvée||0;case"en_attente":return l.en_attente||0;case"rejet\xe9e":return l.rejetée||0;case"brouillon":return l.brouillon||0;default:return l.total}};return(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:a}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,r.jsxs)("button",{onClick:()=>s("tous"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("tous"===t?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["Tous (",l.total,")"]}),(0,r.jsxs)("button",{onClick:()=>s("approuv\xe9e"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("approuv\xe9e"===t?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["Approuv\xe9es (",i("approuv\xe9e"),")"]}),(0,r.jsxs)("button",{onClick:()=>s("en_attente"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("en_attente"===t?"bg-yellow-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["En attente (",i("en_attente"),")"]}),(0,r.jsxs)("button",{onClick:()=>s("rejet\xe9e"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("rejet\xe9e"===t?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["Rejet\xe9es (",i("rejet\xe9e"),")"]}),(0,r.jsxs)("button",{onClick:()=>s("brouillon"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("brouillon"===t?"bg-gray-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["Brouillons (",i("brouillon"),")"]})]})]})})}var h=s(57964);function p(){return(0,r.jsx)(c.default,{pageName:"offres",children:(0,r.jsx)(o.default,{children:(0,r.jsx)(f,{})})})}function f(){let[e,t]=(0,l.useState)([]),[s,a]=(0,l.useState)(!0),[c,o]=(0,l.useState)(""),[p,f]=(0,l.useState)([]),[b,g]=(0,l.useState)("table"),[j,N]=(0,l.useState)("dateCreation"),[y,v]=(0,l.useState)("desc"),[w,A]=(0,l.useState)({total:0,enAttente:0,approuvees:0,rejetees:0,brouillons:0}),[D,k]=(0,l.useState)({statut:"",priority:"",search:"",dateRange:""}),[C,S]=(0,l.useState)("tous"),[O,E]=(0,l.useState)(!1),[R,T]=(0,l.useState)(!1),[M,_]=(0,l.useState)(null),[P,I]=(0,l.useState)({intituleOffre:"",bailleur:"",objectifs:"",montant:"",devise:"",pays:[],autrePays:"",typeOffre:"",offreTrouveePar:"",commentaire:"",profilExpert:"",dureeMission:"",lienTDR:"",nomSite:""});(0,l.useEffect)(()=>{G();let e=setInterval(G,3e4);return()=>{clearInterval(e)}},[D,j,y]);let L=l.useMemo(()=>{let t=e;return"tous"!==C&&(t=t.filter(e=>e.statut===C)),D.search&&(t=t.filter(e=>{var t,s,r;return(null==(t=e.intituleOffre)?void 0:t.toLowerCase().includes(D.search.toLowerCase()))||(null==(s=e.bailleur)?void 0:s.toLowerCase().includes(D.search.toLowerCase()))||(null==(r=e.objectifs)?void 0:r.toLowerCase().includes(D.search.toLowerCase()))})),D.priority&&(t=t.filter(e=>e.priorite===D.priority)),t},[e,C,D]),F=e=>{let t=e.length,s=e.filter(e=>"en_attente"===e.statut||!e.statut).length,r=e.filter(e=>"approuv\xe9e"===e.statut).length;return{total:t,enAttente:s,approuvees:r,rejetees:e.filter(e=>"rejet\xe9e"===e.statut).length,brouillons:e.filter(e=>"brouillon"===e.statut).length}},G=async()=>{a(!0);try{let e=await n.sF.getAll();if(e.success&&e.data){let s=e.data;if(D.statut&&(s=s.filter(e=>e.statut===D.statut)),D.search){let e=D.search.toLowerCase();s=s.filter(t=>{var s,r,l;return(null==(s=t.intitule_offre)?void 0:s.toLowerCase().includes(e))||(null==(r=t.bailleur)?void 0:r.toLowerCase().includes(e))||(null==(l=t.commentaire)?void 0:l.toLowerCase().includes(e))})}s.sort((e,t)=>{let s=e[j],r=t[j];return("montant"===j&&(s=parseFloat((null==s?void 0:s.toString().replace(/[^\d]/g,""))||"0"),r=parseFloat((null==r?void 0:r.toString().replace(/[^\d]/g,""))||"0")),"asc"===y)?s>r?1:-1:s<r?1:-1}),t(s);let r=F(s);A(r)}else throw Error(e.error||"Erreur lors du chargement des offres")}catch(e){o(e.message||"Erreur lors du chargement des offres")}finally{a(!1)}},V=(e,t)=>{k(s=>({...s,[e]:t}))},q=e=>{_(e),E(!0)},B=e=>{_(e),I({intituleOffre:e.intituleOffre||e.titre||"",bailleur:e.bailleur||e.client||"",objectifs:e.objectifs||e.description||"",montant:e.montant||e.budget||"",devise:e.devise||"",pays:e.pays||[],autrePays:e.autrePays||"",typeOffre:e.typeOffre||"",offreTrouveePar:e.offreTrouveePar||"",commentaire:e.commentaire||"",profilExpert:e.profilExpert||"",dureeMission:e.dureeMission||"",lienTDR:e.lienTDR||"",nomSite:e.nomSite||""}),T(!0)},z=async s=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer cette offre ?"))try{let r=await n.sF.delete(s.id);if(r.success){let r=e.filter(e=>e.id!==s.id);t(r);let l=F(r);A(l)}else throw Error(r.error||"Erreur lors de la suppression")}catch(e){console.error("Erreur lors de la suppression de l'offre:",e),alert("Erreur lors de la suppression de l'offre")}},H=async()=>{if(M)try{let s=await n.sF.update(M.id,P);if(s.success){let s={...M,...P},r=e.map(e=>e.id===M.id?s:e);t(r),T(!1),_(null);let l=F(r);A(l)}else throw Error(s.error||"Erreur lors de la mise \xe0 jour")}catch(e){console.error("Erreur lors de la mise \xe0 jour de l'offre:",e),alert("Erreur lors de la mise \xe0 jour de l'offre")}},Y=(e,t)=>{I(s=>({...s,[e]:t}))},J=e=>{if(!e.tdrFile&&!e.lienTDR)return void alert("Aucun fichier TDR disponible pour cette offre.");let t=e.tdrFile||e.lienTDR;if(t){let s=document.createElement("a");s.href=t,s.download="TDR_".concat(e.intituleOffre||e.titre||e.id,".pdf"),s.target="_blank",document.body.appendChild(s),s.click(),document.body.removeChild(s)}};return s?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Chargement des offres..."})]})}):c?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Erreur"}),(0,r.jsx)("p",{children:c})]})})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 py-12",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d.default,{}),(0,r.jsxs)("div",{className:"ml-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-500/30 backdrop-blur-sm rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)("i",{className:"ri-briefcase-line text-2xl text-white"})}),(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Gestion des Offres"}),(0,r.jsx)("p",{className:"text-xl opacity-90",children:"Gestion compl\xe8te des offres et opportunit\xe9s"})]})]}),(0,r.jsx)("div",{className:"text-right text-white",children:(0,r.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:(0,r.jsxs)("span",{className:"text-lg",children:[e.length," offres"]})})})]})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsxs)(i(),{href:"/repartition/gestion-repartition",className:"bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 inline-flex",children:[(0,r.jsx)("i",{className:"ri-settings-3-line"}),"Gestion de R\xe9partition"]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"bg-blue-500 text-white p-3 rounded-lg",children:(0,r.jsx)("i",{className:"ri-briefcase-line text-xl"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Offres"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:w.total})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"bg-yellow-500 text-white p-3 rounded-lg",children:(0,r.jsx)("i",{className:"ri-time-line text-xl"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"En Attente"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:w.enAttente})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"bg-green-500 text-white p-3 rounded-lg",children:(0,r.jsx)("i",{className:"ri-check-line text-xl"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Approuv\xe9es"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:w.approuvees})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"bg-red-500 text-white p-3 rounded-lg",children:(0,r.jsx)("i",{className:"ri-close-line text-xl"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Rejet\xe9es"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:w.rejetees})]})]})})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6 mb-8",children:(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"bg-gray-500 text-white p-3 rounded-lg",children:(0,r.jsx)("i",{className:"ri-file-line text-xl"})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Brouillons"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:w.brouillons})]})]})})}),(0,r.jsx)(u,{selectedStatus:C,onStatusChange:e=>{S(e)},statusCounts:{total:w.total,approuvée:w.approuvees,en_attente:w.enAttente,rejetée:w.rejetees,brouillon:w.brouillons},title:"Filtrer les offres par statut"}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("p",{className:"text-gray-600",children:[L.length," offre",1!==L.length?"s":""," affich\xe9e",1!==L.length?"s":"","tous"!==C&&" (".concat(C,")")]})}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6 mb-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recherche"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Rechercher par titre, bailleur, objectifs...",value:D.search,onChange:e=>V("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),(0,r.jsxs)("select",{value:D.statut,onChange:e=>V("statut",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Tous les statuts"}),(0,r.jsx)("option",{value:"brouillon",children:"Brouillon"}),(0,r.jsx)("option",{value:"en_attente",children:"En attente"}),(0,r.jsx)("option",{value:"approuv\xe9e",children:"Approuv\xe9e"}),(0,r.jsx)("option",{value:"rejet\xe9e",children:"Rejet\xe9e"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priorit\xe9"}),(0,r.jsxs)("select",{value:D.priority,onChange:e=>V("priority",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Toutes les priorit\xe9s"}),(0,r.jsx)("option",{value:"haute",children:"Haute"}),(0,r.jsx)("option",{value:"normale",children:"Normale"}),(0,r.jsx)("option",{value:"basse",children:"Basse"})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[e.length," offres trouv\xe9es"]})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(i(),{href:"/ajouter-offre",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 text-sm font-medium",children:[(0,r.jsx)("i",{className:"ri-add-line"}),"Nouvelle offre"]}),(0,r.jsxs)("button",{onClick:()=>g("table"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("table"===b?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,r.jsx)("i",{className:"ri-table-line mr-2"}),"Tableau"]}),(0,r.jsxs)("button",{onClick:()=>g("cards"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("cards"===b?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,r.jsx)("i",{className:"ri-grid-line mr-2"}),"Cartes"]})]})]})]}),"table"===b?(0,r.jsx)(x.A,{offres:L,onViewOffre:q,onEditOffre:B,onDeleteOffre:z,onDownloadTDR:J,selectedOffres:p,onSelectOffre:e=>{f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},onSelectAll:()=>{p.length===e.length?f([]):f(e.map(e=>e.id))},viewMode:b,loading:s,showActions:!0,showCheckboxes:!0,showStatus:!0,showPriority:!0}):(0,r.jsx)("div",{className:"grid gap-8",children:0===L.length?(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-12 text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("i",{className:"ri-inbox-line text-2xl text-blue-600"})}),(0,r.jsx)("p",{className:"text-lg font-medium text-gray-900",children:"Aucune offre trouv\xe9e"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:D.search?"Aucune offre ne correspond \xe0 votre recherche.":"Aucune offre disponible."})]}):L.map(e=>(0,r.jsx)(h.A,{offre:e,showActions:!0,onViewOffre:q,onEditOffre:B,onDeleteOffre:z,onDownloadTDR:J,showPoleInfo:!0,showModalite:!1,showPriority:!0,showBudget:!0,showDate:!0,showStatus:!0,showTDR:!0,showDescription:!0,showDetails:!0,showCommentaire:!1},e.id))}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-6",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-gray-900 flex items-center mb-6",children:[(0,r.jsx)("i",{className:"ri-bar-chart-line text-blue-600 mr-2"}),"Statistiques D\xe9taill\xe9es par Personne"]}),(0,r.jsx)(m,{})]})})]}),O&&M&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"D\xe9tails de l'offre"}),(0,r.jsx)("button",{onClick:()=>{E(!1),_(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("i",{className:"ri-close-line text-2xl"})})]})}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informations principales"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Intitul\xe9 de l'offre"}),(0,r.jsx)("p",{className:"text-gray-900 font-medium",children:M.intituleOffre||M.titre||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Bailleur"}),(0,r.jsx)("p",{className:"text-gray-900",children:M.bailleur||M.client||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Type d'offre"}),(0,r.jsx)("p",{className:"text-gray-900",children:M.typeOffre||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Offre trouv\xe9e par"}),(0,r.jsx)("p",{className:"text-gray-900",children:M.offreTrouveePar||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Pays"}),(0,r.jsx)("p",{className:"text-gray-900",children:Array.isArray(M.pays)&&M.pays.length>0?M.pays.join(", "):M.autrePays||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Objectifs/Description"}),(0,r.jsx)("p",{className:"text-gray-900",children:M.objectifs||M.description||"Aucune description disponible"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informations financi\xe8res"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Montant"}),(0,r.jsxs)("p",{className:"text-gray-900",children:[M.montant||M.budget||"Non sp\xe9cifi\xe9"," ",M.devise||""]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Dur\xe9e de mission"}),(0,r.jsx)("p",{className:"text-gray-900",children:M.dureeMission||"Non sp\xe9cifi\xe9e"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Date de d\xe9p\xf4t"}),(0,r.jsx)("p",{className:"text-gray-900",children:M.dateDepot||M.dateCreation?new Date(M.dateDepot||M.dateCreation||"").toLocaleDateString("fr-FR"):"Non sp\xe9cifi\xe9e"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Date de soumission pour validation"}),(0,r.jsx)("p",{className:"text-gray-900",children:M.dateSoumissionValidation?new Date(M.dateSoumissionValidation).toLocaleDateString("fr-FR"):"Non sp\xe9cifi\xe9e"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Date d'identification"}),(0,r.jsx)("p",{className:"text-gray-900",children:M.dateIdentificationOffre?new Date(M.dateIdentificationOffre).toLocaleDateString("fr-FR"):"Non sp\xe9cifi\xe9e"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Statut et validation"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Statut"}),(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat("approuv\xe9e"===M.statut?"bg-green-100 text-green-800 border-green-200":"rejet\xe9e"===M.statut?"bg-red-100 text-red-800 border-red-200":"en_attente"===M.statut?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-gray-100 text-gray-800 border-gray-200"),children:"approuv\xe9e"===M.statut?"Approuv\xe9e":"rejet\xe9e"===M.statut?"Rejet\xe9e":"en_attente"===M.statut?"En attente":"brouillon"===M.statut?"Brouillon":"En attente"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Priorit\xe9"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("Priorit\xe9 haute"===M.priorite?"bg-orange-500":"Opportunit\xe9 interm\xe9diaire"===M.priorite?"bg-blue-500":"Strat\xe9gique"===M.priorite?"bg-purple-500":"bg-gray-500")}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900 capitalize",children:M.priorite||M.priority||"Non d\xe9finie"})]})]}),M.dateValidation&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Date de validation"}),(0,r.jsx)("p",{className:"text-gray-900",children:new Date(M.dateValidation).toLocaleDateString("fr-FR")})]}),M.commentaireValidation&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Commentaire de validation"}),(0,r.jsx)("p",{className:"text-gray-900",children:M.commentaireValidation})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"D\xe9tails suppl\xe9mentaires"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Profil expert"}),(0,r.jsx)("p",{className:"text-gray-900",children:M.profilExpert||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Nom du site"}),(0,r.jsx)("p",{className:"text-gray-900",children:M.nomSite||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Lien TDR"}),(0,r.jsx)("p",{className:"text-gray-900",children:M.lienTDR?(0,r.jsx)("a",{href:M.lienTDR,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"Voir le TDR"}):"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Commentaire"}),(0,r.jsx)("p",{className:"text-gray-900",children:M.commentaire||"Aucun commentaire"})]})]})]})]})})]})}),R&&M&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Modifier l'offre"}),(0,r.jsx)("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("i",{className:"ri-close-line text-2xl"})})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Intitul\xe9 de l'offre"}),(0,r.jsx)("input",{type:"text",value:P.intituleOffre,onChange:e=>Y("intituleOffre",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bailleur"}),(0,r.jsx)("input",{type:"text",value:P.bailleur,onChange:e=>Y("bailleur",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Montant"}),(0,r.jsx)("input",{type:"text",value:P.montant,onChange:e=>Y("montant",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Devise"}),(0,r.jsx)("input",{type:"text",value:P.devise,onChange:e=>Y("devise",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Objectifs"}),(0,r.jsx)("textarea",{value:P.objectifs,onChange:e=>Y("objectifs",e.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,r.jsx)("button",{onClick:()=>T(!1),className:"px-6 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Annuler"}),(0,r.jsx)("button",{onClick:H,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Sauvegarder"})]})]})]})})]})}},59940:(e,t,s)=>{Promise.resolve().then(s.bind(s,3452))}},e=>{var t=t=>e(e.s=t);e.O(0,[255,458,530,144,368,347,870,358],()=>t(59940)),_N_E=e.O()}]);