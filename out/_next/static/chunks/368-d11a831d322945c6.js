"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[368],{15368:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(73365),l=s(1521);function a(e){let{offres:t,onViewOffre:s,onEditOffre:a,onDeleteOffre:i,onDownloadTDR:n,selectedOffres:c=[],onSelectOffre:o,onSelectAll:d,viewMode:x="table",loading:p=!1,showActions:m=!0,showCheckboxes:u=!1,showStatus:b=!0,showPriority:g=!0,showPoleLead:h=!1,showMontageAdministratif:j=!1,customColumns:N=[]}=e,[f,y]=(0,l.useState)("dateDepot"),[v,w]=(0,l.useState)("desc"),k=e=>{f===e?w("asc"===v?"desc":"asc"):(y(e),w("desc"))},C=e=>{if(!e)return"Non sp\xe9cifi\xe9e";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(e){return"Date invalide"}},P=e=>{switch(e){case"Priorit\xe9 haute":return"bg-red-100 text-red-800 border-red-200";case"Strat\xe9gique":return"bg-purple-100 text-purple-800 border-purple-200";case"Opportunit\xe9 interm\xe9diaire":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"haute":return"bg-orange-100 text-orange-800 border-orange-200";case"normale":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},D=e=>{switch(e){case"approuv\xe9e":return"bg-green-100 text-green-800 border-green-200";case"rejet\xe9e":return"bg-red-100 text-red-800 border-red-200";case"en_attente":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},A=e=>{switch(e){case"approuv\xe9e":return"Approuv\xe9e";case"rejet\xe9e":return"Rejet\xe9e";case"en_attente":default:return"En attente";case"brouillon":return"Brouillon"}},L=e=>e&&0!==e.length?1===e.length?e[0]:e.length<=2?e.join(", "):"".concat(e[0],", ").concat(e[1]," +").concat(e.length-2):"Non sp\xe9cifi\xe9",S=e=>({"P\xf4le sant\xe9":"bg-green-100 text-green-800 border-green-200","P\xf4le Wash":"bg-blue-100 text-blue-800 border-blue-200","P\xf4le Education":"bg-purple-100 text-purple-800 border-purple-200","P\xf4le Climat":"bg-emerald-100 text-emerald-800 border-emerald-200","P\xf4le Enqu\xeates":"bg-orange-100 text-orange-800 border-orange-200","P\xf4le Mod\xe9lisation":"bg-indigo-100 text-indigo-800 border-indigo-200","P\xf4le Finances Publiques":"bg-pink-100 text-pink-800 border-pink-200","P\xf4le D\xe9centralisation":"bg-teal-100 text-teal-800 border-teal-200","P\xf4le Coh\xe9sion sociale":"bg-cyan-100 text-cyan-800 border-cyan-200","P\xf4le Anglophone":"bg-amber-100 text-amber-800 border-amber-200","P\xf4le SIDIA":"bg-violet-100 text-violet-800 border-violet-200"})[e]||"bg-gray-100 text-gray-800 border-gray-200";return p?(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-12",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Chargement des offres..."})]})}):0===t.length?(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-12",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("i",{className:"ri-inbox-line text-4xl text-gray-300 mb-4"}),(0,r.jsx)("p",{className:"text-lg font-medium text-gray-500",children:"Aucune offre trouv\xe9e"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"Essayez de modifier vos filtres de recherche"})]})}):(0,r.jsxs)(r.Fragment,{children:["table"===x&&(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gradient-to-r from-blue-50 to-blue-100",children:(0,r.jsxs)("tr",{children:[u&&(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider",children:(0,r.jsx)("input",{type:"checkbox",checked:c.length===t.length&&t.length>0,onChange:d,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>k("intituleOffre"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-file-text-line"}),"Intitul\xe9","intituleOffre"===f&&(0,r.jsx)("i",{className:"ri-arrow-".concat("asc"===v?"up":"down","-line")})]})}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>k("bailleur"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-building-line"}),"Bailleur","bailleur"===f&&(0,r.jsx)("i",{className:"ri-arrow-".concat("asc"===v?"up":"down","-line")})]})}),(0,r.jsxs)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider",children:[(0,r.jsx)("i",{className:"ri-map-pin-line mr-2"}),"Pays"]}),g&&(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>k("priorite"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-flag-line"}),"Priorit\xe9","priorite"===f&&(0,r.jsx)("i",{className:"ri-arrow-".concat("asc"===v?"up":"down","-line")})]})}),h&&(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>k("poleLead"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-team-line"}),"P\xf4le LEAD","poleLead"===f&&(0,r.jsx)("i",{className:"ri-arrow-".concat("asc"===v?"up":"down","-line")})]})}),j&&(0,r.jsxs)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider",children:[(0,r.jsx)("i",{className:"ri-settings-3-line mr-2"}),"Montage Admin"]}),b&&(0,r.jsxs)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider",children:[(0,r.jsx)("i",{className:"ri-checkbox-circle-line mr-2"}),"Statut"]}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider cursor-pointer hover:bg-blue-200 transition-colors",onClick:()=>k("dateDepot"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-calendar-line"}),"Date de d\xe9p\xf4t","dateDepot"===f&&(0,r.jsx)("i",{className:"ri-arrow-".concat("asc"===v?"up":"down","-line")})]})}),m&&(0,r.jsxs)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-blue-700 uppercase tracking-wider",children:[(0,r.jsx)("i",{className:"ri-settings-line mr-2"}),"Actions"]})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:t.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors duration-200",children:[u&&(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("input",{type:"checkbox",checked:c.includes(e.id),onChange:()=>null==o?void 0:o(e.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900 max-w-xs truncate",children:e.intituleOffre||e.titre||"Sans titre"})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.bailleur||e.client||"Non sp\xe9cifi\xe9"})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:L(e.pays)})}),g&&(0,r.jsx)("td",{className:"px-6 py-4",children:e.priorite?(0,r.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full border ".concat(P(e.priorite)),children:e.priorite}):(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"Aucune"})}),h&&(0,r.jsx)("td",{className:"px-6 py-4",children:e.poleLead?(0,r.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full border ".concat(S(e.poleLead)),children:e.poleLead}):(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"Non sp\xe9cifi\xe9"})}),j&&(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.montageAdministratif?(0,r.jsx)("span",{className:"text-green-600 font-medium",children:"âœ“ Configur\xe9"}):(0,r.jsx)("span",{className:"text-gray-500",children:"Non configur\xe9"})})}),b&&(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full border ".concat(D(e.statut)),children:A(e.statut)})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:C(e.dateDepot||e.dateCreation)})}),m&&(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[n&&(0,r.jsx)("button",{onClick:()=>n(e),className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-colors",title:"T\xe9l\xe9charger TDR",children:(0,r.jsx)("i",{className:"ri-download-line"})}),s&&(0,r.jsx)("button",{onClick:()=>s(e),className:"bg-green-600 text-white p-2 rounded-lg hover:bg-green-700 transition-colors",title:"Voir les d\xe9tails",children:(0,r.jsx)("i",{className:"ri-eye-line"})}),a&&(0,r.jsx)("button",{onClick:()=>a(e),className:"bg-orange-600 text-white p-2 rounded-lg hover:bg-orange-700 transition-colors",title:"Modifier",children:(0,r.jsx)("i",{className:"ri-edit-line"})}),i&&(0,r.jsx)("button",{onClick:()=>i(e),className:"bg-red-600 text-white p-2 rounded-lg hover:bg-red-700 transition-colors",title:"Supprimer",children:(0,r.jsx)("i",{className:"ri-delete-bin-line"})})]})})]},e.id))})]})})}),"cards"===x&&(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 hover:shadow-xl transition-all duration-300 overflow-hidden",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2 mb-2",children:e.intituleOffre||e.titre||"Sans titre"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.bailleur||e.client||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[n&&(0,r.jsx)("button",{onClick:()=>n(e),className:"bg-blue-100 text-blue-600 p-2 rounded-lg hover:bg-blue-200 transition-colors",title:"T\xe9l\xe9charger TDR",children:(0,r.jsx)("i",{className:"ri-download-line"})}),s&&(0,r.jsx)("button",{onClick:()=>s(e),className:"bg-green-100 text-green-600 p-2 rounded-lg hover:bg-green-200 transition-colors",title:"Voir les d\xe9tails",children:(0,r.jsx)("i",{className:"ri-eye-line"})}),a&&(0,r.jsx)("button",{onClick:()=>a(e),className:"bg-orange-100 text-orange-600 p-2 rounded-lg hover:bg-orange-200 transition-colors",title:"Modifier",children:(0,r.jsx)("i",{className:"ri-edit-line"})}),i&&(0,r.jsx)("button",{onClick:()=>i(e),className:"bg-red-100 text-red-600 p-2 rounded-lg hover:bg-red-200 transition-colors",title:"Supprimer",children:(0,r.jsx)("i",{className:"ri-delete-bin-line"})})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[g&&e.priorite&&(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full border ".concat(P(e.priorite)),children:e.priorite}),h&&e.poleLead&&(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full border ".concat(S(e.poleLead)),children:e.poleLead}),b&&e.statut&&(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full border ".concat(D(e.statut)),children:A(e.statut)})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-map-pin-line text-gray-400"}),(0,r.jsx)("span",{children:L(e.pays)})]}),j&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-settings-3-line text-gray-400"}),(0,r.jsx)("span",{children:e.montageAdministratif?"âœ“ Configur\xe9":"Non configur\xe9"})]}),e.dateDepot&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("i",{className:"ri-calendar-line text-gray-400"}),(0,r.jsx)("span",{children:C(e.dateDepot||e.dateCreation)})]})]})]})},e.id))})]})}}}]);