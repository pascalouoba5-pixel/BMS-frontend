(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[218],{150:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(73365),a=s(59534),i=s.n(a);function l(e){let{className:t="",variant:s="default",size:a="md"}=e,l="".concat("inline-flex items-center gap-2 font-medium transition-all duration-200 hover:scale-105"," ").concat({default:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 shadow-sm hover:shadow-md",outline:"border-2 border-blue-600 text-blue-600 px-4 py-2 rounded-lg hover:bg-blue-600 hover:text-white",icon:"bg-blue-100 text-blue-600 p-2 rounded-lg hover:bg-blue-200"}[s]," ").concat({sm:"text-sm px-3 py-1.5",md:"text-base px-4 py-2",lg:"text-lg px-6 py-3"}[a]," ").concat(t);return(0,r.jsxs)(i(),{href:"/",className:l,children:[(0,r.jsx)("i",{className:"ri-home-line"}),"icon"!==s&&(0,r.jsx)("span",{children:"Accueil"})]})}},15878:(e,t,s)=>{Promise.resolve().then(s.bind(s,42709))},42709:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(73365),a=s(59534),i=s.n(a),l=s(1521),n=s(150),o=s(42770),d=s(84857),c=s(98809);function x(){return(0,r.jsx)(o.default,{pageName:"offre-du-jour",children:(0,r.jsx)(d.default,{children:(0,r.jsx)(m,{})})})}function m(){let[e,t]=(0,l.useState)(""),[s,a]=(0,l.useState)([]),[o,d]=(0,l.useState)([]),[x,m]=(0,l.useState)("tous"),[u,h]=(0,l.useState)(!0),[g,f]=(0,l.useState)(""),[p,b]=(0,l.useState)(!1);(0,l.useEffect)(()=>{b(!0),t(new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))},[]),(0,l.useEffect)(()=>{if(p){j();let e=setInterval(j,3e4),t=e=>{"offres"===e.key&&j()};return window.addEventListener("storage",t),()=>{clearInterval(e),window.removeEventListener("storage",t)}}},[p]),(0,l.useEffect)(()=>{let e=[...s].sort((e,t)=>{let s=e.dateSoumissionValidation?new Date(e.dateSoumissionValidation).getTime():e.dateCreation?new Date(e.dateCreation).getTime():0;return(t.dateSoumissionValidation?new Date(t.dateSoumissionValidation).getTime():t.dateCreation?new Date(t.dateCreation).getTime():0)-s});"tous"===x?d(e):d(e.filter(e=>e.statut===x))},[s,x]);let j=()=>{if(p){h(!0);try{let e=JSON.parse(localStorage.getItem("offres")||"[]"),t=new Date().toISOString().slice(0,10),s=e.filter(e=>N(e,t));a(s)}catch(e){console.error("Erreur lors du chargement des offres:",e),f("Erreur lors du chargement des offres")}finally{h(!1)}}},N=(e,t)=>{if(e.dateSoumissionValidation)try{if(new Date(e.dateSoumissionValidation).toISOString().slice(0,10)===t)return!0}catch(t){console.warn("Date de soumission invalide:",e.dateSoumissionValidation)}if(e.dateCreation)try{if(new Date(e.dateCreation).toISOString().slice(0,10)===t)return!0}catch(t){console.warn("Date de cr\xe9ation invalide:",e.dateCreation)}return!1},y=e=>{switch(e){case"approuv\xe9e":return"bg-green-100 text-green-800 border-green-200";case"rejet\xe9e":return"bg-red-100 text-red-800 border-red-200";case"en_attente":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},v=e=>{switch(e){case"approuv\xe9e":return"Approuv\xe9e";case"rejet\xe9e":return"Rejet\xe9e";case"en_attente":default:return"En attente";case"brouillon":return"Brouillon"}},w=e=>e?new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}):"Non sp\xe9cifi\xe9e",S=e=>e?e.replace("€"," €"):"Non sp\xe9cifi\xe9";return u?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Chargement des offres du jour..."})]})}):g?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Erreur"}),(0,r.jsx)("p",{children:g})]})})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white",children:[(0,r.jsx)(c.A,{}),(0,r.jsx)("nav",{className:"bg-white/90 backdrop-blur-sm border-b border-blue-100 sticky top-0 z-50",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(i(),{href:"/",children:(0,r.jsx)("img",{src:"/images/amd-international-logo.svg",alt:"AMD INTERNATIONAL Logo",className:"h-12 cursor-pointer"})})}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,r.jsx)(n.default,{variant:"outline",size:"sm"}),(0,r.jsx)(i(),{href:"/dashboard",className:"text-gray-700 hover:text-blue-600 transition-colors cursor-pointer",children:"Dashboard"}),(0,r.jsx)(i(),{href:"/offres",className:"text-gray-700 hover:text-blue-600 transition-colors cursor-pointer",children:"Offres"}),(0,r.jsx)(i(),{href:"/repartition",className:"text-gray-700 hover:text-blue-600 transition-colors cursor-pointer",children:"R\xe9partition"})]})]})})}),(0,r.jsxs)("section",{className:"relative py-20 bg-gradient-to-r from-blue-600 to-blue-800 overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-20",style:{backgroundImage:"url('https://readdy.ai/api/search-image?query=Modern%20technology%20workspace%20with%20AI%20algorithms%20visualization%20on%20multiple%20screens%2C%20futuristic%20blue%20lighting%2C%20data%20flowing%20graphics%2C%20professional%20tech%20environment%2C%20cutting-edge%20artificial%20intelligence%20interface%2C%20clean%20minimalist%20design%20with%20blue%20and%20white%20corporate%20colors&width=1920&height=600&seq=aioffre1&orientation=landscape')"}}),(0,r.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-white",children:[(0,r.jsxs)("div",{className:"inline-flex items-center bg-blue-500/30 backdrop-blur-sm rounded-full px-6 py-3 mb-6",children:[(0,r.jsx)("i",{className:"ri-star-line text-yellow-300 text-xl mr-2"}),(0,r.jsx)("span",{className:"font-medium",children:"Offres du Jour"})]}),(0,r.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:"Offres du Jour"}),(0,r.jsx)("p",{className:"text-xl md:text-2xl mb-6",suppressHydrationWarning:!0,children:e}),(0,r.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-6 py-3 inline-block",children:(0,r.jsxs)("span",{className:"text-lg font-semibold",children:[s.length," offre",s.length>1?"s":""," du jour"]})})]})]}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:0===s.length?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-blue-100 p-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("i",{className:"ri-calendar-line text-2xl text-blue-600"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Aucune offre aujourd'hui"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-6",children:["Il n'y a pas d'offres pour la date du jour (",e,")."]}),(0,r.jsxs)(i(),{href:"/offres",className:"inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:[(0,r.jsx)("i",{className:"ri-arrow-left-line"}),"Voir toutes les offres"]})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filtrer par statut"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,r.jsxs)("button",{onClick:()=>m("tous"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("tous"===x?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["Tous (",s.length,")"]}),(0,r.jsxs)("button",{onClick:()=>m("approuv\xe9e"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("approuv\xe9e"===x?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["Approuv\xe9es (",s.filter(e=>"approuv\xe9e"===e.statut).length,")"]}),(0,r.jsxs)("button",{onClick:()=>m("en_attente"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("en_attente"===x?"bg-yellow-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["En attente (",s.filter(e=>"en_attente"===e.statut).length,")"]}),(0,r.jsxs)("button",{onClick:()=>m("rejet\xe9e"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("rejet\xe9e"===x?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["Rejet\xe9es (",s.filter(e=>"rejet\xe9e"===e.statut).length,")"]}),(0,r.jsxs)("button",{onClick:()=>m("brouillon"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("brouillon"===x?"bg-gray-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:["Brouillons (",s.filter(e=>"brouillon"===e.statut).length,")"]})]})]})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("p",{className:"text-gray-600",children:[o.length," offre",1!==o.length?"s":""," affich\xe9e",1!==o.length?"s":"","tous"!==x&&" (".concat(x,")")]})}),(0,r.jsx)("div",{className:"grid gap-8",children:o.map(e=>(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-xl border border-blue-100 overflow-hidden",children:(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat(y(e.statut||"en_attente")),children:[(0,r.jsx)("i",{className:"".concat("approuv\xe9e"===e.statut?"ri-check-line":"rejet\xe9e"===e.statut?"ri-close-line":"ri-time-line"," mr-1")}),v(e.statut||"en_attente")]}),(0,r.jsx)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:"\uD83D\uDD25 Offre du Jour"}),e.priorite&&(0,r.jsx)("span",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:e.priorite})]}),(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3",children:e.intituleOffre||e.titre||"Sans titre"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("i",{className:"ri-building-line"}),(0,r.jsx)("span",{children:e.bailleur||e.client||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("i",{className:"ri-price-tag-3-line"}),(0,r.jsx)("span",{children:e.typeOffre||e.secteur||"Non sp\xe9cifi\xe9"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("i",{className:"ri-calendar-line"}),(0,r.jsxs)("span",{children:["Date de soumission: ",w(e.dateSoumissionValidation||e.dateCreation||"")]})]}),e.dateValidation&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("i",{className:"ri-check-double-line"}),(0,r.jsxs)("span",{children:["Valid\xe9e le: ",w(e.dateValidation)]})]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:S(e.montant||e.budget||"")}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Budget estim\xe9"})]})]}),(0,r.jsxs)("div",{className:"prose max-w-none mb-8",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Description du Projet"}),(0,r.jsx)("p",{className:"text-gray-600 leading-relaxed",children:e.objectifs||e.description||"Aucune description disponible"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations Compl\xe9mentaires"}),(0,r.jsxs)("div",{className:"space-y-3",children:[e.pays&&e.pays.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Pays: "}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:e.pays.join(", ")})]}),e.autrePays&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Autre pays: "}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:e.autrePays})]}),e.dureeMission&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Dur\xe9e de mission: "}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:e.dureeMission})]}),e.offreTrouveePar&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Offre trouv\xe9e par: "}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:e.offreTrouveePar})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"D\xe9tails Techniques"}),(0,r.jsxs)("div",{className:"space-y-3",children:[e.profilExpert&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Profil expert: "}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:e.profilExpert})]}),e.nomSite&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Nom du site: "}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:e.nomSite})]}),e.lienTDR&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Lien TDR: "}),(0,r.jsx)("a",{href:e.lienTDR,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800",children:"Voir les TDR"})]})]})]})]}),e.commentaireValidation&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Commentaire de Validation"}),(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,r.jsx)("p",{className:"text-gray-700",children:e.commentaireValidation})})]}),(0,r.jsx)("div",{className:"flex flex-col sm:flex-row gap-4",children:(0,r.jsxs)(i(),{href:"/offres",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-lg font-semibold transition-colors cursor-pointer whitespace-nowrap flex items-center justify-center gap-2",children:[(0,r.jsx)("i",{className:"ri-arrow-left-line"}),"Voir Toutes les Offres"]})})]})},e.id))})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[255,458,530,347,870,358],()=>t(15878)),_N_E=e.O()}]);